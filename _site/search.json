[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n#!/usr/bin/env Rscript\n# Stock Analysis Visualizations in R\n# Creates distribution charts and top stocks bar chart\n\n# Load required libraries\nlibrary(data.table)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:data.table':\n\n    between, first, last\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(readr)\nlibrary(ggplot2)\nlibrary(gridExtra)\n\n\nAttaching package: 'gridExtra'\n\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\nlibrary(scales)\n\n\nAttaching package: 'scales'\n\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\n# ===============================================================================\n# LOAD DATA\n# ===============================================================================\n\ncat(\"Loading data...\\n\")\n\nLoading data...\n\n# Load the original data\ndf &lt;- fread(\"data/Universe.csv\", stringsAsFactors = FALSE)\n# Load the top stocks from previous analysis\ntop_stocks &lt;- read_csv(\"top_quality_stocks.csv\", show_col_types = FALSE)\n\n# Convert relevant columns to numeric\nnumeric_cols &lt;- c('RS Rating', 'Comp Rating', 'EPS Rating', 'Market Cap (mil)', \n                  '% Chg 3 Months', '% Chg 6 Months')\n\nfor (col in numeric_cols) {\n  if (col %in% names(df)) {\n    df[[col]] &lt;- suppressWarnings(as.numeric(df[[col]]))\n  }\n}\n\n# Filter out ETFs\ndf_stocks &lt;- df %&gt;%\n  filter(ETF != 'Yes' | is.na(ETF)) %&gt;%\n  filter(`ETF/Closed-End Fund` != 'Yes' | is.na(`ETF/Closed-End Fund`)) %&gt;%\n  filter(`Market Cap (mil)` &gt; 300)\n\n# ===============================================================================\n# CREATE DISTRIBUTION CHARTS (4-PANEL)\n# ===============================================================================\n\ncat(\"Creating distribution charts...\\n\")\n\nCreating distribution charts...\n\n# Calculate means for reference lines\nrs_mean &lt;- mean(df_stocks$`RS Rating`, na.rm = TRUE)\ncomp_mean &lt;- mean(df_stocks$`Comp Rating`, na.rm = TRUE)\neps_mean &lt;- mean(df_stocks$`EPS Rating`, na.rm = TRUE)\n\n# 1. RS Rating Distribution\np1 &lt;- ggplot(df_stocks, aes(x = `RS Rating`)) +\n  geom_histogram(bins = 50, fill = \"steelblue\", color = \"black\", alpha = 0.7) +\n  geom_vline(xintercept = rs_mean, color = \"red\", linetype = \"dashed\", size = 1) +\n  geom_vline(xintercept = 80, color = \"green\", linetype = \"dashed\", size = 1) +\n  annotate(\"text\", x = rs_mean, y = Inf, label = sprintf(\"Mean: %.1f\", rs_mean), \n           vjust = 2, hjust = -0.1, color = \"red\", fontface = \"bold\") +\n  annotate(\"text\", x = 80, y = Inf, label = \"Target: 80+\", \n           vjust = 2, hjust = 1.1, color = \"green\", fontface = \"bold\") +\n  labs(title = \"Relative Strength (RS) Rating Distribution\",\n       x = \"RS Rating\", y = \"Number of Stocks\") +\n  theme_minimal() +\n  theme(plot.title = element_text(face = \"bold\", size = 12),\n        axis.title = element_text(face = \"bold\", size = 11),\n        panel.grid.minor = element_blank())\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n# 2. Composite Rating Distribution\np2 &lt;- ggplot(df_stocks, aes(x = `Comp Rating`)) +\n  geom_histogram(bins = 50, fill = \"coral\", color = \"black\", alpha = 0.7) +\n  geom_vline(xintercept = comp_mean, color = \"red\", linetype = \"dashed\", size = 1) +\n  geom_vline(xintercept = 85, color = \"green\", linetype = \"dashed\", size = 1) +\n  annotate(\"text\", x = comp_mean, y = Inf, label = sprintf(\"Mean: %.1f\", comp_mean), \n           vjust = 2, hjust = -0.1, color = \"red\", fontface = \"bold\") +\n  annotate(\"text\", x = 85, y = Inf, label = \"Target: 85+\", \n           vjust = 2, hjust = 1.1, color = \"green\", fontface = \"bold\") +\n  labs(title = \"Composite Rating Distribution\",\n       x = \"Composite Rating\", y = \"Number of Stocks\") +\n  theme_minimal() +\n  theme(plot.title = element_text(face = \"bold\", size = 12),\n        axis.title = element_text(face = \"bold\", size = 11),\n        panel.grid.minor = element_blank())\n\n# 3. EPS Rating Distribution\np3 &lt;- ggplot(df_stocks, aes(x = `EPS Rating`)) +\n  geom_histogram(bins = 50, fill = \"mediumseagreen\", color = \"black\", alpha = 0.7) +\n  geom_vline(xintercept = eps_mean, color = \"red\", linetype = \"dashed\", size = 1) +\n  geom_vline(xintercept = 80, color = \"green\", linetype = \"dashed\", size = 1) +\n  annotate(\"text\", x = eps_mean, y = Inf, label = sprintf(\"Mean: %.1f\", eps_mean), \n           vjust = 2, hjust = -0.1, color = \"red\", fontface = \"bold\") +\n  annotate(\"text\", x = 80, y = Inf, label = \"Target: 80+\", \n           vjust = 2, hjust = 1.1, color = \"green\", fontface = \"bold\") +\n  labs(title = \"EPS Rating Distribution\",\n       x = \"EPS Rating\", y = \"Number of Stocks\") +\n  theme_minimal() +\n  theme(plot.title = element_text(face = \"bold\", size = 12),\n        axis.title = element_text(face = \"bold\", size = 11),\n        panel.grid.minor = element_blank())\n\n# 4. Scatter plot - RS Rating vs Comp Rating\ntop_performers &lt;- df_stocks %&gt;%\n  filter(`RS Rating` &gt;= 90, `Comp Rating` &gt;= 90)\n\np4 &lt;- ggplot() +\n  geom_point(data = df_stocks %&gt;% filter(!is.na(`RS Rating`), !is.na(`Comp Rating`)),\n             aes(x = `RS Rating`, y = `Comp Rating`), \n             alpha = 0.3, size = 2, color = \"gray\") +\n  geom_point(data = top_performers,\n             aes(x = `RS Rating`, y = `Comp Rating`), \n             alpha = 0.8, size = 4, color = \"gold\", shape = 16) +\n  geom_hline(yintercept = 85, color = \"green\", linetype = \"dashed\", size = 1, alpha = 0.7) +\n  geom_vline(xintercept = 80, color = \"green\", linetype = \"dashed\", size = 1, alpha = 0.7) +\n  annotate(\"text\", x = 85, y = 92, \n           label = sprintf(\"%d stocks\", nrow(top_performers)),\n           fontface = \"bold\", size = 4) +\n  labs(title = \"RS Rating vs Composite Rating\",\n       x = \"RS Rating\", y = \"Composite Rating\") +\n  theme_minimal() +\n  theme(plot.title = element_text(face = \"bold\", size = 12),\n        axis.title = element_text(face = \"bold\", size = 11),\n        panel.grid.minor = element_blank(),\n        legend.position = \"bottom\")\n\n# Combine all plots\ncombined_plot &lt;- grid.arrange(\n  p1, p2, p3, p4,\n  ncol = 2,\n  top = grid::textGrob(\"Stock Universe Analysis - Key Metrics Distribution\", \n                       gp = grid::gpar(fontsize = 16, fontface = \"bold\"))\n)\n\nWarning: Removed 233 rows containing non-finite values (`stat_bin()`).\n\n\n\n\n\n\n\n\n# Save the combined chart\nggsave(\"stock_analysis_charts.png\", combined_plot, \n       width = 16, height = 12, dpi = 300, bg = \"white\")\n\ncat(\"✓ Distribution charts saved: stock_analysis_charts.png\\n\")\n\n✓ Distribution charts saved: stock_analysis_charts.png\n\n# ===============================================================================\n# CREATE TOP 15 STOCKS BAR CHART\n# ===============================================================================\n\ncat(\"Creating top 15 stocks chart...\\n\")\n\nCreating top 15 stocks chart...\n\n# Prepare top 15 data\ntop_15 &lt;- top_stocks %&gt;%\n  head(15) %&gt;%\n  mutate(\n    Label = paste0(Symbol, \" - \", substr(Name, 1, 25)),\n    Color_Category = case_when(\n      `Quality Score` &gt;= 84 ~ \"Exceptional (≥84)\",\n      `Quality Score` &gt;= 82 ~ \"Excellent (82-84)\",\n      TRUE ~ \"Very Good (&lt;82)\"\n    )\n  ) %&gt;%\n  arrange(`Quality Score`) %&gt;%\n  mutate(Label = factor(Label, levels = Label))\n\n# Create color palette\ncolor_palette &lt;- c(\n  \"Exceptional (≥84)\" = \"#2E7D32\",\n  \"Excellent (82-84)\" = \"#1976D2\",\n  \"Very Good (&lt;82)\" = \"#0288D1\"\n)\n\n# Create bar chart\np_top15 &lt;- ggplot(top_15, aes(x = Label, y = `Quality Score`, fill = Color_Category)) +\n  geom_col(color = \"black\", size = 0.5) +\n  geom_text(aes(label = sprintf(\"%.1f\", `Quality Score`)), \n            hjust = -0.2, fontface = \"bold\", size = 3.5) +\n  coord_flip() +\n  scale_fill_manual(values = color_palette, name = \"Performance Category\") +\n  scale_y_continuous(limits = c(0, max(top_15$`Quality Score`) * 1.1),\n                     expand = c(0, 0)) +\n  labs(title = \"Top 15 Stocks by Quality Score\",\n       x = NULL,\n       y = \"Quality Score\") +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14, hjust = 0.5, margin = margin(b = 15)),\n    axis.title.x = element_text(face = \"bold\", size = 12, margin = margin(t = 10)),\n    axis.text.y = element_text(size = 10),\n    axis.text.x = element_text(size = 10),\n    legend.position = \"bottom\",\n    legend.title = element_text(face = \"bold\", size = 10),\n    legend.text = element_text(size = 9),\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major.x = element_line(color = \"gray90\")\n  )\n\n# Save the top 15 chart\nggsave(\"top_15_stocks.png\", p_top15, \n       width = 14, height = 10, dpi = 300, bg = \"white\")\n\ncat(\"✓ Top 15 chart saved: top_15_stocks.png\\n\")\n\n✓ Top 15 chart saved: top_15_stocks.png\n\n# ===============================================================================\n# CREATE ADDITIONAL SECTOR ANALYSIS CHART\n# ===============================================================================\n\ncat(\"Creating sector analysis chart...\\n\")\n\nCreating sector analysis chart...\n\n# Analyze by sector if sector data is available\nif (\"Sector\" %in% names(df_stocks)) {\n  \n  # Calculate average quality score by sector (for sectors with sufficient data)\n  sector_analysis &lt;- df_stocks %&gt;%\n    filter(!is.na(Sector), Sector != \"\", Sector != \"-\") %&gt;%\n    mutate(\n      `Quality Score` = \n        (`RS Rating` * 0.25) + (`Comp Rating` * 0.25) + (`EPS Rating` * 0.20)\n    ) %&gt;%\n    group_by(Sector) %&gt;%\n    summarise(\n      Count = n(),\n      Avg_Quality = mean(`Quality Score`, na.rm = TRUE),\n      Avg_RS = mean(`RS Rating`, na.rm = TRUE),\n      Avg_Comp = mean(`Comp Rating`, na.rm = TRUE),\n      .groups = 'drop'\n    ) %&gt;%\n    filter(Count &gt;= 10) %&gt;%  # Only sectors with at least 10 stocks\n    arrange(desc(Avg_Quality)) %&gt;%\n    head(15)\n  \n  if (nrow(sector_analysis) &gt; 0) {\n    sector_analysis &lt;- sector_analysis %&gt;%\n      mutate(Sector = factor(Sector, levels = rev(Sector)))\n    \n    p_sector &lt;- ggplot(sector_analysis, aes(x = Sector, y = Avg_Quality)) +\n      geom_col(aes(fill = Avg_Quality), color = \"black\", size = 0.3) +\n      geom_text(aes(label = sprintf(\"%.1f\", Avg_Quality)), \n                hjust = -0.2, fontface = \"bold\", size = 3) +\n      geom_text(aes(label = paste0(\"n=\", Count)), \n                hjust = 1.2, color = \"white\", fontface = \"bold\", size = 2.5) +\n      coord_flip() +\n      scale_fill_gradient2(low = \"#E3F2FD\", mid = \"#42A5F5\", high = \"#0D47A1\",\n                          midpoint = 60, name = \"Avg Quality Score\") +\n      scale_y_continuous(limits = c(0, max(sector_analysis$Avg_Quality) * 1.15),\n                         expand = c(0, 0)) +\n      labs(title = \"Average Quality Score by Sector\",\n           subtitle = \"(Sectors with 10+ stocks)\",\n           x = NULL,\n           y = \"Average Quality Score\") +\n      theme_minimal() +\n      theme(\n        plot.title = element_text(face = \"bold\", size = 14, hjust = 0.5),\n        plot.subtitle = element_text(size = 10, hjust = 0.5, color = \"gray40\"),\n        axis.title.x = element_text(face = \"bold\", size = 11),\n        axis.text = element_text(size = 9),\n        legend.position = \"right\",\n        panel.grid.major.y = element_blank(),\n        panel.grid.minor = element_blank()\n      )\n    \n    ggsave(\"sector_analysis.png\", p_sector, \n           width = 12, height = 10, dpi = 300, bg = \"white\")\n    \n    cat(\"✓ Sector analysis chart saved: sector_analysis.png\\n\")\n  }\n}\n\n✓ Sector analysis chart saved: sector_analysis.png\n\n# ===============================================================================\n# COMPLETE\n# ===============================================================================\n\ncat(\"\\n\")\ncat(\"================================================================================\\n\")\n\n================================================================================\n\ncat(\"VISUALIZATION COMPLETE\\n\")\n\nVISUALIZATION COMPLETE\n\ncat(\"================================================================================\\n\")\n\n================================================================================\n\ncat(\"\\nGenerated files:\\n\")\n\n\nGenerated files:\n\ncat(\"  - stock_analysis_charts.png (4-panel distribution charts)\\n\")\n\n  - stock_analysis_charts.png (4-panel distribution charts)\n\ncat(\"  - top_15_stocks.png (bar chart of top performers)\\n\")\n\n  - top_15_stocks.png (bar chart of top performers)\n\nif (file.exists(\"sector_analysis.png\")) {\n  cat(\"  - sector_analysis.png (sector comparison)\\n\")\n}\n\n  - sector_analysis.png (sector comparison)\n\ncat(\"\\n\")"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "universe-report",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites.\n\n#library(usethis)\n#use_git()\n#use_github\n\n#!/usr/bin/env Rscript\n# Stock Analysis Script in R\n# Comprehensive analysis of stock universe data\n\n# Load required libraries\nlibrary(data.table)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:data.table':\n\n    between, first, last\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(readr)\n\n# ===============================================================================\n# LOAD AND PREPARE DATA\n# ===============================================================================\n\n# Load the data\ncat(\"Loading data...\\n\")\n\nLoading data...\n\ndf &lt;- fread(\"data/Universe.csv\", stringsAsFactors = FALSE)\n\ncat(\"================================================================================\\n\")\n\n================================================================================\n\ncat(\"COMPREHENSIVE STOCK ANALYSIS\\n\")\n\nCOMPREHENSIVE STOCK ANALYSIS\n\ncat(\"================================================================================\\n\")\n\n================================================================================\n\n# Convert relevant columns to numeric\nnumeric_columns &lt;- c('RS Rating', 'Comp Rating', 'EPS Rating', 'RS 3-Month Rating', \n                     'Market Cap (mil)', 'ROE', 'EPS % Chg Last Qtr', 'Sales % Chg Lst Qtr',\n                     'Current Price', '% Chg 3 Months', '% Chg 6 Months', '% Chg 12 Months',\n                     'Price vs 50-Day', 'Price vs 200-Day')\n\nfor (col in numeric_columns) {\n  if (col %in% names(df)) {\n    df[[col]] &lt;- suppressWarnings(as.numeric(df[[col]]))\n  }\n}\n\n# Function to convert letter ratings to numeric scores\nconvert_rating &lt;- function(rating) {\n  rating_map &lt;- c('A+' = 100, 'A' = 95, 'A-' = 90,\n                  'B+' = 85, 'B' = 80, 'B-' = 75,\n                  'C+' = 70, 'C' = 65, 'C-' = 60,\n                  'D+' = 55, 'D' = 50, 'D-' = 45,\n                  'E' = 40)\n  \n  sapply(rating, function(r) {\n    if (is.na(r) || r == '-' || r == '') return(NA)\n    if (r %in% names(rating_map)) return(rating_map[r])\n    return(NA)\n  })\n}\n\n# Convert SMR Rating and A/D Rating to numeric scores\ndf$`SMR Score` &lt;- convert_rating(df$`SMR Rating`)\ndf$`AD Score` &lt;- convert_rating(df$`A/D Rating`)\n\ncat(\"\\n1. FILTERING FOR HIGH-QUALITY STOCKS\\n\")\n\n\n1. FILTERING FOR HIGH-QUALITY STOCKS\n\ncat(\"--------------------------------------------------------------------------------\\n\")\n\n--------------------------------------------------------------------------------\n\n# Filter out ETFs and funds\ndf_stocks &lt;- df %&gt;%\n  filter(ETF != 'Yes' | is.na(ETF)) %&gt;%\n  filter(`ETF/Closed-End Fund` != 'Yes' | is.na(`ETF/Closed-End Fund`))\n\ncat(sprintf(\"After excluding ETFs/Funds: %d stocks\\n\", nrow(df_stocks)))\n\nAfter excluding ETFs/Funds: 5842 stocks\n\n# Filter for established companies (Market Cap &gt; $300M)\ndf_filtered &lt;- df_stocks %&gt;%\n  filter(`Market Cap (mil)` &gt; 300)\n\ncat(sprintf(\"After filtering for Market Cap &gt; $300M: %d stocks\\n\", nrow(df_filtered)))\n\nAfter filtering for Market Cap &gt; $300M: 3698 stocks\n\n# ===============================================================================\n# CALCULATE QUALITY SCORE\n# ===============================================================================\n\n# Create a composite score based on key metrics\ndf_filtered &lt;- df_filtered %&gt;%\n  mutate(\n    `Quality Score` = \n      (`RS Rating` * 0.25) +                                           # 25% weight\n      (`Comp Rating` * 0.25) +                                         # 25% weight\n      (`EPS Rating` * 0.20) +                                          # 20% weight\n      ((coalesce(`SMR Score`, 50) - 40) * 0.15 / 60 * 100) +          # 15% weight\n      ((coalesce(`AD Score`, 50) - 40) * 0.15 / 60 * 100)             # 15% weight\n  ) %&gt;%\n  mutate(`Quality Score` = coalesce(`Quality Score`, 0))\n\n# ===============================================================================\n# TOP STOCKS BY QUALITY SCORE\n# ===============================================================================\n\ncat(\"\\n2. TOP STOCKS BY COMPOSITE QUALITY SCORE\\n\")\n\n\n2. TOP STOCKS BY COMPOSITE QUALITY SCORE\n\ncat(\"--------------------------------------------------------------------------------\\n\")\n\n--------------------------------------------------------------------------------\n\ncat(\"Quality Score = 25% RS Rating + 25% Comp Rating + 20% EPS Rating + 15% SMR + 15% A/D\\n\\n\")\n\nQuality Score = 25% RS Rating + 25% Comp Rating + 20% EPS Rating + 15% SMR + 15% A/D\n\ntop_quality &lt;- df_filtered %&gt;%\n  arrange(desc(`Quality Score`)) %&gt;%\n  head(30) %&gt;%\n  select(Symbol, Name, `Current Price`, `Market Cap (mil)`, \n         `RS Rating`, `Comp Rating`, `EPS Rating`, `SMR Rating`, `A/D Rating`,\n         `Quality Score`, `% Chg 3 Months`, `% Chg 6 Months`) %&gt;%\n  mutate(\n    `Quality Score` = round(`Quality Score`, 1),\n    `Market Cap (mil)` = round(`Market Cap (mil)`, 0),\n    `Current Price` = round(`Current Price`, 2)\n  )\n\nhead(top_quality, n = 30)\n\n    Symbol                      Name Current Price Market Cap (mil) RS Rating\n    &lt;char&gt;                    &lt;char&gt;         &lt;num&gt;            &lt;num&gt;     &lt;num&gt;\n 1:    CLS                 Celestica        296.62            34121        98\n 2:    EME               EMCOR Group        748.24            33494        91\n 3:   CAMT                    Camtek        119.15             5434        89\n 4:    NXT                Nextracker         98.28            14542        97\n 5:    APH             Amphenol Cl A        133.82           163384        93\n 6:    FSM            Fortuna Mining          8.16             2502        90\n 7:    GLW                   Corning         87.41            74877        94\n 8:   IBEX                      IBEX         38.19              508        93\n 9:   PAHC      Phibro Animal Health         42.33             1716        95\n10:   AVGO                  Broadcom        354.13          1672331        93\n11:     MU         Micron Technology        219.02           245842        97\n12:    VRT           Vertiv Holdings        186.06            71138        93\n13:    WDC           Western Digital        129.43            44902        97\n14:   MEDP          Medpace Holdings        605.20            17002        94\n15:   ATAT Atour Lifestyle Hldgs ADR         39.80             5555        88\n16:   RMBS                    Rambus        105.42            11342        95\n17:    AII        Amer Integrity Ins         24.16              473        89\n18:   PRIM         Primoris Services        142.37             7690        95\n19:   GILT  Gilat Satellite Networks         14.86              847        97\n20:   IESC              IES Holdings        436.98             8676        94\n21:   IRMD                  iRadimed         78.47              998        90\n22:   SHOP                   Shopify        172.95           224776        94\n23:     UI                  Ubiquiti        735.63            44504        96\n24:   PEGA               Pegasystems         66.27            11248        86\n25:   ATGE  Adtalem Global Education        152.97             5558        92\n26:    FIX       Comfort Systems USA        981.66            34634        96\n27:   NVMI                      Nova        345.06            10145        92\n28:   ANIP       ANI Pharmaceuticals         94.24             2045        91\n29:    KGC              Kinross Gold         23.94            29178        95\n30:   MPWR  Monolithic Power Systems       1074.91            51480        92\n    Symbol                      Name Current Price Market Cap (mil) RS Rating\n    Comp Rating EPS Rating SMR Rating A/D Rating Quality Score % Chg 3 Months\n          &lt;num&gt;      &lt;num&gt;     &lt;char&gt;     &lt;char&gt;         &lt;num&gt;          &lt;num&gt;\n 1:          99         99          A         A-          95.3           80.9\n 2:          99         98          A          A          94.6           29.3\n 3:          97         96          A         A+          94.4           26.4\n 4:          98         96          A         A-          94.2           55.0\n 5:          99         99          A         A-          94.0           28.1\n 6:          99         94          A          A          93.6           18.4\n 7:          98         89          A          A          93.3           56.9\n 8:          97         97          A         A-          93.2           25.2\n 9:          98         93          A         A-          93.1           43.8\n10:          99         99          A         B+          92.8           22.7\n11:          99         81          A          A          92.7           96.0\n12:          99         98          A         B+          92.6           42.2\n13:          99         80          A          A          92.5           87.5\n14:          98         97          A         B+          92.4           32.8\n15:          97         98          A         A-          92.1           11.5\n16:          99         99          A          B          92.0           64.2\n17:          98         81          A         A+          91.7           38.0\n18:          99         97          B          A          91.7           58.3\n19:          98         89          B         A+          91.6           91.0\n20:          98         98          A          B          91.3           33.1\n21:          95         94          A         A-          91.3           38.6\n22:          96         94          A         B+          91.3           41.7\n23:          98         89          A         B+          91.3           64.4\n24:          97         96          A         A-          91.2           14.1\n25:          95         97          A         B+          91.2           33.8\n26:          99         99          A         B-          91.0           74.4\n27:          98         99          A          B          91.0           31.9\n28:          98         93          A         B+          90.8           41.1\n29:          99         93          A          B          90.8           51.1\n30:          98         98          A          B          90.8           50.8\n    Comp Rating EPS Rating SMR Rating A/D Rating Quality Score % Chg 3 Months\n    % Chg 6 Months\n             &lt;num&gt;\n 1:          221.9\n 2:           86.8\n 3:           78.0\n 4:          132.1\n 5:           76.0\n 6:           33.1\n 7:           99.2\n 8:           55.5\n 9:          134.9\n10:           88.2\n11:          182.9\n12:          121.8\n13:          222.2\n14:           99.8\n15:           67.4\n16:          113.6\n17:             NA\n18:          139.5\n19:          135.9\n20:          123.3\n21:           47.7\n22:           81.8\n23:          135.1\n24:           45.1\n25:           46.5\n26:          160.9\n27:           75.4\n28:           35.3\n29:           63.2\n30:           85.1\n    % Chg 6 Months\n\n# ===============================================================================\n# BEST MOMENTUM STOCKS\n# ===============================================================================\n\ncat(\"\\n\\n3. BEST MOMENTUM STOCKS (High RS Rating)\\n\")\n\n\n\n3. BEST MOMENTUM STOCKS (High RS Rating)\n\ncat(\"--------------------------------------------------------------------------------\\n\")\n\n--------------------------------------------------------------------------------\n\ncat(\"Stocks with RS Rating &gt;= 95 and strong fundamentals\\n\\n\")\n\nStocks with RS Rating &gt;= 95 and strong fundamentals\n\nmomentum_stocks &lt;- df_filtered %&gt;%\n  filter(`RS Rating` &gt;= 95, `Comp Rating` &gt;= 80) %&gt;%\n  arrange(desc(`RS Rating`)) %&gt;%\n  head(20) %&gt;%\n  select(Symbol, Name, `Current Price`, `Market Cap (mil)`,\n         `RS Rating`, `Comp Rating`, `EPS Rating`, `% Chg 3 Months`, `% Chg 6 Months`) %&gt;%\n  mutate(\n    `Market Cap (mil)` = round(`Market Cap (mil)`, 0),\n    `Current Price` = round(`Current Price`, 2)\n  )\n\nhead(momentum_stocks, n = 20)\n\n    Symbol                      Name Current Price Market Cap (mil) RS Rating\n    &lt;char&gt;                    &lt;char&gt;         &lt;num&gt;            &lt;num&gt;     &lt;num&gt;\n 1:   ABAT     American Battery Tech          5.98              706        99\n 2:   AMPX      Amprius Technologies         12.89             1612        99\n 3:   APLD           Applied Digital         33.43             9350        99\n 4:   ATAI        ATAI Life Sciences          5.77             1382        99\n 5:     BE              Bloom Energy        110.38            25829        99\n 6:     BW     Babcock & Wilcox Ents          3.46              350        99\n 7:   CDTX       Cidara Therapeutics         93.12             2361        99\n 8:   CIFR             Cipher Mining         20.66             8125        99\n 9:   CTEV                  Claritev         69.69             1148        99\n10:   DVLT              Datavault AI          3.42              606        99\n11:   GRAL                     GRAIL         89.39             3222        99\n12:   IMAB                 I-Mab ADR          4.22              485        99\n13:   INBX       Inhibrx Biosciences         57.29              830        99\n14:   IREN                      IREN         62.90            12463        99\n15:   IVVD                   Invivyd          2.23              467        99\n16:    KOD           Kodiak Sciences         18.69              986        99\n17:    LEU            Centrus Energy        383.00             6973        99\n18:   MENS             Jyong Biotech         60.80             4647        99\n19:    MFH Mercurity Fintech Holding         11.47              698        99\n20:   MVST        Microvast Holdings          5.69             1851        99\n    Symbol                      Name Current Price Market Cap (mil) RS Rating\n    Comp Rating EPS Rating % Chg 3 Months % Chg 6 Months\n          &lt;num&gt;      &lt;num&gt;          &lt;num&gt;          &lt;num&gt;\n 1:          87         44           77.4          398.3\n 2:          92         46           55.5          417.7\n 3:          84         17          198.5          636.3\n 4:          88         42           54.3          277.1\n 5:          99         80          233.9          508.5\n 6:          85         46          229.5          726.6\n 7:          83         20           48.2          333.5\n 8:          92         38          210.7          588.7\n 9:          82         60           67.0          208.8\n10:          97         65          398.9          331.9\n11:          91         56          125.1          137.2\n12:          80         39           99.1          395.1\n13:          88         18          148.3          378.2\n14:          94         38          246.7          898.4\n15:          96         53          175.3          233.6\n16:          80         11          126.5          346.1\n17:          87         57           58.0          457.1\n18:          83         48          416.1             NA\n19:          82         60          273.6           70.7\n20:          95         80           70.4          164.7\n    Comp Rating EPS Rating % Chg 3 Months % Chg 6 Months\n\n# ===============================================================================\n# BEST FUNDAMENTAL STOCKS\n# ===============================================================================\n\ncat(\"\\n\\n4. BEST FUNDAMENTAL STOCKS (High Comp + EPS Ratings)\\n\")\n\n\n\n4. BEST FUNDAMENTAL STOCKS (High Comp + EPS Ratings)\n\ncat(\"--------------------------------------------------------------------------------\\n\")\n\n--------------------------------------------------------------------------------\n\ncat(\"Stocks with Comp Rating &gt;= 95 and EPS Rating &gt;= 90\\n\\n\")\n\nStocks with Comp Rating &gt;= 95 and EPS Rating &gt;= 90\n\nfundamental_stocks &lt;- df_filtered %&gt;%\n  filter(`Comp Rating` &gt;= 95, `EPS Rating` &gt;= 90) %&gt;%\n  arrange(desc(`Comp Rating`)) %&gt;%\n  head(20) %&gt;%\n  select(Symbol, Name, `Current Price`, `Market Cap (mil)`,\n         `RS Rating`, `Comp Rating`, `EPS Rating`, `SMR Rating`, ROE) %&gt;%\n  mutate(\n    `Market Cap (mil)` = round(`Market Cap (mil)`, 0),\n    `Current Price` = round(`Current Price`, 2)\n  )\n\nhead(fundamental_stocks, n = 20)\n\n    Symbol                    Name Current Price Market Cap (mil) RS Rating\n    &lt;char&gt;                  &lt;char&gt;         &lt;num&gt;            &lt;num&gt;     &lt;num&gt;\n 1:    AEM      Agnico-Eagle Mines        163.35            82291        92\n 2:   ANET         Arista Networks        153.82           193331        91\n 3:    APH           Amphenol Cl A        133.82           163384        93\n 4:   AVGO                Broadcom        354.13          1672331        93\n 5:    CCJ                  Cameco         88.13            38364        91\n 6:    CLS               Celestica        296.62            34121        98\n 7:    EME             EMCOR Group        748.24            33494        91\n 8:    FIX     Comfort Systems USA        981.66            34634        96\n 9:    FSM          Fortuna Mining          8.16             2502        90\n10:     GE            GE Aerospace        303.87           320526        89\n11:    GFI         Gold Fields ADR         40.30            36086        96\n12:   HALO   Halozyme Therapeutics         66.15             7737        77\n13:    HMY Harmony Gold Mining ADR         17.49            11065        88\n14:   IBKR     Interactive Brokers         68.75            30611        88\n15:    KGC            Kinross Gold         23.94            29178        95\n16:    NEM                 Newmont         83.37            91578        93\n17:   NVDA                  NVIDIA        186.26          4526118        85\n18:    NVT          nVent Electric        102.20            16449        91\n19:     OR            OR Royalties         33.35             6236        90\n20:   ORLA             Orla Mining         10.78             3505        89\n    Symbol                    Name Current Price Market Cap (mil) RS Rating\n    Comp Rating EPS Rating SMR Rating   ROE\n          &lt;num&gt;      &lt;num&gt;     &lt;char&gt; &lt;num&gt;\n 1:          99         98          A  10.5\n 2:          99         99          A  33.8\n 3:          99         99          A  26.3\n 4:          99         99          A  51.8\n 5:          99         99          B   4.7\n 6:          99         99          A  25.1\n 7:          99         98          A  37.3\n 8:          99         99          A  35.0\n 9:          99         94          A   6.5\n10:          99         97          A  21.4\n11:          99         97          A  25.3\n12:          99         98          A 244.5\n13:          99         96          A  32.0\n14:          99         98          A  19.5\n15:          99         93          A  13.0\n16:          99         91          A  13.5\n17:          99         99          A 121.4\n18:          99         91          A  13.1\n19:          99         93          A   8.0\n20:          99         99          A  17.9\n    Comp Rating EPS Rating SMR Rating   ROE\n\n# ===============================================================================\n# BEST LARGE-CAP STOCKS\n# ===============================================================================\n\ncat(\"\\n\\n5. BEST LARGE-CAP STOCKS (Market Cap &gt; $10B)\\n\")\n\n\n\n5. BEST LARGE-CAP STOCKS (Market Cap &gt; $10B)\n\ncat(\"--------------------------------------------------------------------------------\\n\\n\")\n\n--------------------------------------------------------------------------------\n\nlarge_cap &lt;- df_filtered %&gt;%\n  filter(`Market Cap (mil)` &gt; 10000) %&gt;%\n  arrange(desc(`Quality Score`)) %&gt;%\n  head(15) %&gt;%\n  select(Symbol, Name, `Current Price`, `Market Cap (mil)`,\n         `RS Rating`, `Comp Rating`, `EPS Rating`, `Quality Score`) %&gt;%\n  mutate(\n    `Market Cap (mil)` = round(`Market Cap (mil)`, 0),\n    `Current Price` = round(`Current Price`, 2),\n    `Quality Score` = round(`Quality Score`, 1)\n  )\n\nhead(large_cap, n = 15)\n\n    Symbol                Name Current Price Market Cap (mil) RS Rating\n    &lt;char&gt;              &lt;char&gt;         &lt;num&gt;            &lt;num&gt;     &lt;num&gt;\n 1:    CLS           Celestica        296.62            34121        98\n 2:    EME         EMCOR Group        748.24            33494        91\n 3:    NXT          Nextracker         98.28            14542        97\n 4:    APH       Amphenol Cl A        133.82           163384        93\n 5:    GLW             Corning         87.41            74877        94\n 6:   AVGO            Broadcom        354.13          1672331        93\n 7:     MU   Micron Technology        219.02           245842        97\n 8:    VRT     Vertiv Holdings        186.06            71138        93\n 9:    WDC     Western Digital        129.43            44902        97\n10:   MEDP    Medpace Holdings        605.20            17002        94\n11:   RMBS              Rambus        105.42            11342        95\n12:   SHOP             Shopify        172.95           224776        94\n13:     UI            Ubiquiti        735.63            44504        96\n14:   PEGA         Pegasystems         66.27            11248        86\n15:    FIX Comfort Systems USA        981.66            34634        96\n    Comp Rating EPS Rating Quality Score\n          &lt;num&gt;      &lt;num&gt;         &lt;num&gt;\n 1:          99         99          95.3\n 2:          99         98          94.6\n 3:          98         96          94.2\n 4:          99         99          94.0\n 5:          98         89          93.3\n 6:          99         99          92.8\n 7:          99         81          92.7\n 8:          99         98          92.6\n 9:          99         80          92.5\n10:          98         97          92.4\n11:          99         99          92.0\n12:          96         94          91.3\n13:          98         89          91.3\n14:          97         96          91.2\n15:          99         99          91.0\n\n# ===============================================================================\n# SUMMARY STATISTICS\n# ===============================================================================\n\ncat(\"\\n\\n6. SUMMARY STATISTICS\\n\")\n\n\n\n6. SUMMARY STATISTICS\n\ncat(\"--------------------------------------------------------------------------------\\n\\n\")\n\n--------------------------------------------------------------------------------\n\ncat(sprintf(\"Total stocks analyzed: %d\\n\\n\", nrow(df_filtered)))\n\nTotal stocks analyzed: 3698\n\ncat(sprintf(\"Average RS Rating: %.1f\\n\", mean(df_filtered$`RS Rating`, na.rm = TRUE)))\n\nAverage RS Rating: 53.3\n\ncat(sprintf(\"Average Comp Rating: %.1f\\n\", mean(df_filtered$`Comp Rating`, na.rm = TRUE)))\n\nAverage Comp Rating: 58.9\n\ncat(sprintf(\"Average EPS Rating: %.1f\\n\\n\", mean(df_filtered$`EPS Rating`, na.rm = TRUE)))\n\nAverage EPS Rating: 56.9\n\ncat(sprintf(\"Stocks with RS Rating &gt;= 90: %d\\n\", \n            sum(df_filtered$`RS Rating` &gt;= 90, na.rm = TRUE)))\n\nStocks with RS Rating &gt;= 90: 613\n\ncat(sprintf(\"Stocks with Comp Rating &gt;= 90: %d\\n\", \n            sum(df_filtered$`Comp Rating` &gt;= 90, na.rm = TRUE)))\n\nStocks with Comp Rating &gt;= 90: 501\n\ncat(sprintf(\"Stocks with EPS Rating &gt;= 90: %d\\n\", \n            sum(df_filtered$`EPS Rating` &gt;= 90, na.rm = TRUE)))\n\nStocks with EPS Rating &gt;= 90: 493\n\n# ===============================================================================\n# KEY INSIGHTS\n# ===============================================================================\n\ncat(\"\\n\\n7. KEY INSIGHTS & RECOMMENDATIONS\\n\")\n\n\n\n7. KEY INSIGHTS & RECOMMENDATIONS\n\ncat(\"--------------------------------------------------------------------------------\\n\")\n\n--------------------------------------------------------------------------------\n\ncat(sprintf(\"\nBased on the comprehensive analysis of %d stocks, here are the key findings:\n\nRATING DEFINITIONS:\n- RS Rating (Relative Strength): Measures price performance vs. all other stocks (0-100)\n- Comp Rating (Composite): Overall stock quality combining multiple factors (0-100)\n- EPS Rating: Earnings Per Share growth and stability (0-100)\n- SMR Rating: Sales + Margins + Return on Equity (A+ to E)\n- A/D Rating: Accumulation/Distribution - institutional buying/selling (A+ to E)\n\nTOP CATEGORIES:\n1. Highest Quality Score: Stocks that excel across all metrics\n2. Best Momentum: Stocks with exceptional price strength and fundamentals\n3. Best Fundamentals: Companies with superior earnings and composite ratings\n4. Best Large-Caps: Quality stocks with market caps exceeding $10 billion\n\nINVESTMENT APPROACH:\n- Look for stocks with RS Rating &gt;= 80 (strong momentum)\n- Seek Comp Rating &gt;= 85 (high quality)\n- Prefer EPS Rating &gt;= 80 (strong earnings)\n- Consider SMR Rating A or B (excellent fundamentals)\n- Check A/D Rating for institutional support\n\nThe 'Quality Score' provides a balanced view combining all these factors.\n\", nrow(df_filtered)))\n\n\nBased on the comprehensive analysis of 3698 stocks, here are the key findings:\n\nRATING DEFINITIONS:\n- RS Rating (Relative Strength): Measures price performance vs. all other stocks (0-100)\n- Comp Rating (Composite): Overall stock quality combining multiple factors (0-100)\n- EPS Rating: Earnings Per Share growth and stability (0-100)\n- SMR Rating: Sales + Margins + Return on Equity (A+ to E)\n- A/D Rating: Accumulation/Distribution - institutional buying/selling (A+ to E)\n\nTOP CATEGORIES:\n1. Highest Quality Score: Stocks that excel across all metrics\n2. Best Momentum: Stocks with exceptional price strength and fundamentals\n3. Best Fundamentals: Companies with superior earnings and composite ratings\n4. Best Large-Caps: Quality stocks with market caps exceeding $10 billion\n\nINVESTMENT APPROACH:\n- Look for stocks with RS Rating &gt;= 80 (strong momentum)\n- Seek Comp Rating &gt;= 85 (high quality)\n- Prefer EPS Rating &gt;= 80 (strong earnings)\n- Consider SMR Rating A or B (excellent fundamentals)\n- Check A/D Rating for institutional support\n\nThe 'Quality Score' provides a balanced view combining all these factors.\n\ncat(\"\\n\")\ncat(\"================================================================================\\n\")\n\n================================================================================\n\ncat(\"ANALYSIS COMPLETE\\n\")\n\nANALYSIS COMPLETE\n\ncat(\"================================================================================\\n\\n\")\n\n================================================================================\n\n# ===============================================================================\n# SAVE RESULTS\n# ===============================================================================\n\n# Save top quality stocks to CSV\nwrite_csv(top_quality, \"top_quality_stocks.csv\")\ncat(\"✓ Detailed results saved to: top_quality_stocks.csv\\n\")\n\n✓ Detailed results saved to: top_quality_stocks.csv\n\n# Save all filtered stocks with quality scores for further analysis\ndf_filtered_export &lt;- df_filtered %&gt;%\n  select(Symbol, Name, `Current Price`, `Market Cap (mil)`,\n         `RS Rating`, `Comp Rating`, `EPS Rating`, `SMR Rating`, `A/D Rating`,\n         `Quality Score`, `% Chg 3 Months`, `% Chg 6 Months`, `% Chg 12 Months`,\n         Sector, ROE) %&gt;%\n  arrange(desc(`Quality Score`))\n\nwrite_csv(df_filtered_export, \"all_stocks_with_scores.csv\")\ncat(\"✓ All stocks with scores saved to: all_stocks_with_scores.csv\\n\")\n\n✓ All stocks with scores saved to: all_stocks_with_scores.csv"
  },
  {
    "objectID": "new_analysis.html",
    "href": "new_analysis.html",
    "title": "universe-report",
    "section": "",
    "text": "# ====================================================================\n# COMPREHENSIVE STOCK ANALYSIS SCRIPT\n# Purpose: Identify top stocks and generate insights from stock universe data\n# ====================================================================\n\n# Load required libraries\nlibrary(data.table)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:data.table':\n\n    between, first, last\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(scales)\nlibrary(corrplot)\n\ncorrplot 0.92 loaded\n\nlibrary(gridExtra)\n\n\nAttaching package: 'gridExtra'\n\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\n# Set theme for all plots\ntheme_set(theme_minimal(base_size = 12))\n\n# ====================================================================\n# 1. DATA LOADING AND CLEANING\n# ====================================================================\n\ncat(\"Loading data...\\n\")\n\nLoading data...\n\nstocks &lt;- fread(\"data/Universe_merged.csv\")\n\ncat(sprintf(\"Total stocks loaded: %d\\n\", nrow(stocks)))\n\nTotal stocks loaded: 10902\n\ncat(sprintf(\"Total columns: %d\\n\", ncol(stocks)))\n\nTotal columns: 101\n\n# Display first few rows\ncat(\"\\nFirst few rows:\\n\")\n\n\nFirst few rows:\n\nprint(head(stocks, 3))\n\n   Order Symbol                      Name RS Rating            Industry Name\n   &lt;int&gt; &lt;char&gt;                    &lt;char&gt;     &lt;int&gt;                   &lt;char&gt;\n1:     1      A      Agilent Technologies        78 Medical-Research Eqp/Svc\n2:     2     AA                     Alcoa        81        Mining-Metal Ores\n3:     3    AAA Alt Access First Priority        32        Finance-ETF / ETN\n    Sector EPS Rating 3-Yr EPS Growth Geq 5-Yr EPS Trl 4Q Gtr EPS 4 Yrs Ago\n    &lt;char&gt;      &lt;int&gt;                   &lt;char&gt;                       &lt;char&gt;\n1: MEDICAL         73                       No                          Yes\n2:  MINING         29                       No                          Yes\n3:    MISC          0                       No                          Yes\n   EPS Trl 4Q Geq EPS Lst Fiscal Yr Funds % Earnings Stability Number of Stocks\n                             &lt;char&gt;  &lt;char&gt;             &lt;char&gt;            &lt;int&gt;\n1:                              Yes      57                  9               38\n2:                              Yes      42                  -               50\n3:                              Yes       1                  -             4629\n   Ind Group Rank Ind Grp Rnk Last Week Ind Grp Rnk 3 Mo Ago\n            &lt;int&gt;                 &lt;int&gt;                &lt;int&gt;\n1:             30                    41                  151\n2:              3                     3                    5\n3:             77                    71                   92\n   Ind Grp Rnk 6 Mo Ago % Chg YTD Ind Mkt Val (bil) Current Price Price $ Chg\n                  &lt;int&gt;     &lt;num&gt;             &lt;num&gt;         &lt;num&gt;       &lt;num&gt;\n1:                  150     10.19             454.2        148.03        0.57\n2:                  155      4.34             735.8         39.42       -0.72\n3:                   85     -0.04           12901.4         25.07        0.02\n   Price % Chg % Off High Vol % Chg vs 50-Day 50-Day Avg Vol (1000s)\n        &lt;char&gt;     &lt;char&gt;               &lt;num&gt;                 &lt;char&gt;\n1:        0.39      -3.78               -33.7                   1738\n2:       -1.79     -17.48                56.6                   6785\n3:        0.08      -1.32                40.4                     10\n   50-Day Avg $ Vol (1000s) Market Cap (mil) Comp Rating A/D Rating SMR Rating\n                     &lt;char&gt;            &lt;num&gt;      &lt;char&gt;     &lt;char&gt;     &lt;char&gt;\n1:                   256654          41966.5          93         A-          A\n2:                   262840          10206.4          81          B          C\n3:                      263             42.6           -          B          -\n   Up/Down Vol EPS Lst Rptd EPS Est Cur Qtr % EPS Est Cur Yr %\n        &lt;char&gt;       &lt;char&gt;            &lt;char&gt;           &lt;char&gt;\n1:         1.8   2025-08-27                 8                5\n2:         1.1   2025-10-22               -32              194\n3:         1.6            -                 -                -\n   EPS Est Next Yr % EPS % Chg Last Qtr (-/+) EPS % Chg 1 Q Ago\n              &lt;char&gt;                   &lt;char&gt;            &lt;char&gt;\n1:                 8                        4                 7\n2:               -23                     -104               144\n3:                 -                        0                 0\n   EPS % Chg Lst Yr EPS % Chg 1 Yr Ago P/E Ratio Rank in Grp Exchange\n             &lt;char&gt;             &lt;char&gt;                &lt;char&gt;   &lt;char&gt;\n1:               -3                  4                    48     NYSE\n2:              159               -148                    67     NYSE\n3:                0                  2                    88     ARCA\n   Ind Group RS RS 3-Month Rating   Beta 21 Day ATR % Shares (1000s)\n         &lt;char&gt;            &lt;char&gt; &lt;char&gt;       &lt;char&gt;          &lt;int&gt;\n1:            A                90   1.04         2.76         283500\n2:           A+                93   1.64          5.5         258914\n3:            B                35   0.03         0.39           1700\n   Price vs 200-Day % Chg 1 Month % Chg 3 Months % Chg 6 Months EPS Surprise\n             &lt;char&gt;        &lt;char&gt;         &lt;char&gt;         &lt;char&gt;       &lt;char&gt;\n1:             19.9            19             23           38.3          0.1\n2:             25.7          26.2           23.7           49.1         85.8\n3:              0.2          -0.1            0.3            0.5            -\n   Price vs 50-Day Price vs 10-Day Price vs 21-Day Annual Sales (mil)\n            &lt;char&gt;          &lt;char&gt;          &lt;char&gt;             &lt;char&gt;\n1:            13.7             3.6             5.8               6510\n2:            17.9             5.7             9.3              11895\n3:             0.1             0.2             0.2                  0\n   Sales % Chg Lst Qtr Avg Sales % Chg 2Q 10 Day &gt; 21 Day &gt; 50 Day\n                &lt;char&gt;             &lt;char&gt;                    &lt;int&gt;\n1:                  10                8.1                        1\n2:                   3                3.5                        1\n3:                   -                  -                        0\n   Volume (1000s) EPS Accel 3 Qtrs Sales Accel 3 Qtrs   IPO Date\n            &lt;int&gt;           &lt;char&gt;             &lt;char&gt;     &lt;char&gt;\n1:           1135               No                Yes 1999-11-18\n2:          10623               No                 No          -\n3:             14               No                 No          -\n   ETF/Closed-End Fund Number of Funds Incorp Date    ADR    ETF\n                &lt;char&gt;          &lt;char&gt;      &lt;char&gt; &lt;char&gt; &lt;char&gt;\n1:                  No            2460        1999     No     No\n2:                  No             611        2016     No     No\n3:                 Yes               1        2020     No    Yes\n   EPS % Chg Last Qtr AT Margin Accel Price to Sales Daily Closing Range\n               &lt;char&gt;          &lt;char&gt;         &lt;char&gt;               &lt;num&gt;\n1:                  4              No           6.18             31.6614\n2:                  -              No           0.79             74.5455\n3:                  0              No              -             81.2500\n   RS Line Within 5% of New High Timeliness Rating Sales % Chg Lst Yr\n                           &lt;int&gt;            &lt;char&gt;             &lt;char&gt;\n1:                             0                 B                 -5\n2:                             0                 C                 13\n3:                             0                 C                  -\n   Sponsor Rating RS Line New High RS 6-Month Rating 50-Day &gt; 150-Day &gt; 200-Day\n           &lt;char&gt;           &lt;char&gt;            &lt;char&gt;                      &lt;int&gt;\n1:              C               No                86                          0\n2:              D               No                89                          0\n3:              -               No                27                          0\n   Price to Book P/E Lss 5-Yr Avg Weekly Closing Range Shares in Float (1000s)\n          &lt;char&gt;           &lt;char&gt;                &lt;num&gt;                  &lt;char&gt;\n1:          7.12              Yes              79.6680                  280665\n2:          1.98               No              65.0820                  256324\n3:             -              Yes              60.5263                    1700\n   EPS % Chg 2 Q Ago EPS % Chg 3 Q Ago Avg EPS % Chg 2Q Avg Sales % Chg 3Q\n              &lt;char&gt;            &lt;char&gt;           &lt;char&gt;             &lt;char&gt;\n1:                 2                 6              5.6                5.8\n2:                 -                 -                -               12.2\n3:                 0                 0             -0.1                  -\n   EPS % Chg Lst Q Gtr 3-Yr Growth Price vs 150-Day Funds % Increase\n                            &lt;char&gt;           &lt;char&gt;           &lt;char&gt;\n1:                             Yes             24.3             -1.2\n2:                              No               31                0\n3:                              No              0.4                0\n   % Chg Cur Week        City New CEO 12 Months Enterprise Val (mil)\n           &lt;char&gt;      &lt;char&gt;            &lt;char&gt;               &lt;char&gt;\n1:           4.31 Santa Clara                No              43678.9\n2:           9.59  Pittsburgh                No              11527.8\n3:           0.24  El Segundo                No                    -\n   Current day's Volume greater than previous 5 days' Volume\n                                                       &lt;int&gt;\n1:                                                         0\n2:                                                         0\n3:                                                         0\n   Current day's Volume greater than previous 10 days' Volume\n                                                        &lt;int&gt;\n1:                                                          0\n2:                                                          0\n3:                                                          0\n   Current day's Volume greater than previous 20 days' Volume % Chg 12 Months\n                                                        &lt;int&gt;          &lt;char&gt;\n1:                                                          0            13.3\n2:                                                          0            -6.2\n3:                                                          0            -0.2\n   Vol % Chg vs 10-Week EPS Due Date    ROE AT Margin\n                 &lt;char&gt;       &lt;char&gt; &lt;char&gt;    &lt;char&gt;\n1:                -17.4   2025-12-01   26.2      22.4\n2:                 80.2   2026-01-21    6.3      -0.2\n3:                 26.2            -      -         -\n\n# Check data structure\ncat(\"\\nData structure:\\n\")\n\n\nData structure:\n\nstr(stocks[, 1:20])\n\nClasses 'data.table' and 'data.frame':  10902 obs. of  20 variables:\n $ Order                           : int  1 2 3 4 5 6 7 8 9 10 ...\n $ Symbol                          : chr  \"A\" \"AA\" \"AAA\" \"AAAA\" ...\n $ Name                            : chr  \"Agilent Technologies\" \"Alcoa\" \"Alt Access First Priority\" \"Amplius Agg Asset\" ...\n $ RS Rating                       : int  78 81 32 53 87 45 89 40 70 73 ...\n $ Industry Name                   : chr  \"Medical-Research Eqp/Svc\" \"Mining-Metal Ores\" \"Finance-ETF / ETN\" \"Finance-ETF / ETN\" ...\n $ Sector                          : chr  \"MEDICAL\" \"MINING\" \"MISC\" \"MISC\" ...\n $ EPS Rating                      : int  73 29 0 0 0 5 38 5 0 59 ...\n $ 3-Yr EPS Growth Geq 5-Yr        : chr  \"No\" \"No\" \"No\" \"No\" ...\n $ EPS Trl 4Q Gtr EPS 4 Yrs Ago    : chr  \"Yes\" \"Yes\" \"Yes\" \"No\" ...\n $ EPS Trl 4Q Geq EPS Lst Fiscal Yr: chr  \"Yes\" \"Yes\" \"Yes\" \"No\" ...\n $ Funds %                         : chr  \"57\" \"42\" \"1\" \"-\" ...\n $ Earnings Stability              : chr  \"9\" \"-\" \"-\" \"-\" ...\n $ Number of Stocks                : int  38 50 4629 4629 4629 184 42 184 4629 17 ...\n $ Ind Group Rank                  : int  30 3 77 77 77 166 74 166 77 150 ...\n $ Ind Grp Rnk Last Week           : int  41 3 71 71 71 159 85 159 71 146 ...\n $ Ind Grp Rnk 3 Mo Ago            : int  151 5 92 92 92 101 108 101 92 81 ...\n $ Ind Grp Rnk 6 Mo Ago            : int  150 155 85 85 85 30 9 30 85 5 ...\n $ % Chg YTD                       : num  10.19 4.34 -0.04 NA 56.24 ...\n $ Ind Mkt Val (bil)               : num  454 736 12901 12901 12901 ...\n $ Current Price                   : num  148 39.4 25.1 27.1 40.5 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n\n# Clean column names (remove spaces if any)\nnames(stocks) &lt;- gsub(\" \", \"_\", names(stocks))\n\n# Convert numeric columns that might be character\nnumeric_cols &lt;- c(\"RS_Rating\", \"EPS_Rating\", \"Market_Cap_(mil)\", \"Current_Price\", \n                  \"Price_%_Chg\", \"%_Off_High\", \"Comp_Rating\", \"Beta\", \n                  \"ROE\", \"P/E_Ratio_Rank_in_Grp\", \"%_Chg_YTD\", \"%_Chg_1_Month\",\n                  \"%_Chg_3_Months\", \"%_Chg_6_Months\", \"%_Chg_12_Months\")\n\nfor(col in numeric_cols) {\n  if(col %in% names(stocks)) {\n    stocks[, (col) := as.numeric(get(col))]\n  }\n}\n\nWarning in eval(jsub, SDenv, parent.frame()): NAs introduced by coercion\nWarning in eval(jsub, SDenv, parent.frame()): NAs introduced by coercion\nWarning in eval(jsub, SDenv, parent.frame()): NAs introduced by coercion\nWarning in eval(jsub, SDenv, parent.frame()): NAs introduced by coercion\nWarning in eval(jsub, SDenv, parent.frame()): NAs introduced by coercion\nWarning in eval(jsub, SDenv, parent.frame()): NAs introduced by coercion\nWarning in eval(jsub, SDenv, parent.frame()): NAs introduced by coercion\nWarning in eval(jsub, SDenv, parent.frame()): NAs introduced by coercion\nWarning in eval(jsub, SDenv, parent.frame()): NAs introduced by coercion\nWarning in eval(jsub, SDenv, parent.frame()): NAs introduced by coercion\n\n# Remove ETFs and focus on regular stocks\nstocks_filtered &lt;- stocks %&gt;%\n  filter(ETF == \"No\" | is.na(ETF)) %&gt;%\n  filter(!is.na(`RS_Rating`))\n\ncat(sprintf(\"\\nStocks after filtering (excluding ETFs): %d\\n\", nrow(stocks_filtered)))\n\n\nStocks after filtering (excluding ETFs): 6275\n\n# ====================================================================\n# 2. TOP STOCKS IDENTIFICATION - MULTIPLE CRITERIA\n# ====================================================================\n\ncat(\"\\n\" , rep(\"=\", 70), \"\\n\", sep=\"\")\n\n\n======================================================================\n\ncat(\"TOP STOCKS ANALYSIS\\n\")\n\nTOP STOCKS ANALYSIS\n\ncat(rep(\"=\", 70), \"\\n\")\n\n= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = \n\n# 2.1 Top Stocks by Composite Score (RS Rating + EPS Rating + Comp Rating)\ncat(\"\\n--- Top 20 Stocks by Composite Score ---\\n\")\n\n\n--- Top 20 Stocks by Composite Score ---\n\ntop_by_composite &lt;- stocks_filtered %&gt;%\n  filter(!is.na(RS_Rating) & !is.na(EPS_Rating) & !is.na(Comp_Rating)) %&gt;%\n  mutate(Composite_Score = (RS_Rating + EPS_Rating + Comp_Rating) / 3) %&gt;%\n  arrange(desc(Composite_Score)) %&gt;%\n  select(Symbol, Name, Sector, RS_Rating, EPS_Rating, Comp_Rating, \n         Composite_Score, `Market_Cap_(mil)`, Current_Price) %&gt;%\n  head(20)\n\nprint(top_by_composite)\n\n    Symbol                    Name     Sector RS_Rating EPS_Rating Comp_Rating\n    &lt;char&gt;                  &lt;char&gt;     &lt;char&gt;     &lt;num&gt;      &lt;num&gt;       &lt;num&gt;\n 1:    CLS               Celestica  ELECTRNCS        98         99          99\n 2:    FIX     Comfort Systems USA   BUILDING        96         99          99\n 3:   STRL Sterling Infrastructure   BUILDING        96         99          99\n 4:   PLTR   Palantir Technologies   SOFTWARE        96         98          99\n 5:   RMBS                  Rambus      CHIPS        95         99          99\n 6:    GFI         Gold Fields ADR     MINING        96         97          99\n 7:    APH           Amphenol Cl A  ELECTRNCS        93         99          99\n 8:   AVGO                Broadcom      CHIPS        93         99          99\n 9:    NXT              Nextracker     ENERGY        97         96          98\n10:   PBYI      Puma Biotechnology    MEDICAL        94         99          98\n11:   PRIM       Primoris Services   BUILDING        95         97          99\n12:    SEI     Solaris Energy Infr   CHEMICAL        97         96          98\n13:   TTMI        TTM Technologies  ELECTRNCS        97         96          98\n14:    AGX                   Argan   BUILDING        94         99          97\n15:   FUTU       Futu Holdings ADR    FINANCE        93         99          98\n16:   IDCC            InterDigital  ELECTRNCS        96         97          97\n17:   IESC            IES Holdings BUSINS SVC        94         98          98\n18:    TTI      Tetra Technologies     ENERGY        97         98          95\n19:    VRT         Vertiv Holdings    MACHINE        93         98          99\n20:   WLDN           Willdan Group   BUILDING        96         95          99\n    Symbol                    Name     Sector RS_Rating EPS_Rating Comp_Rating\n    Composite_Score Market_Cap_(mil) Current_Price\n              &lt;num&gt;            &lt;num&gt;         &lt;num&gt;\n 1:        98.66667          34120.8        296.62\n 2:        98.00000          34633.9        981.66\n 3:        98.00000          11531.2        379.08\n 4:        97.66667         438005.5        184.63\n 5:        97.66667          11342.5        105.42\n 6:        97.33333          36086.4         40.30\n 7:        97.00000         163383.6        133.82\n 8:        97.00000        1672331.1        354.13\n 9:        97.00000          14541.8         98.28\n10:        97.00000            263.4          5.23\n11:        97.00000           7689.7        142.37\n12:        97.00000           3441.3         50.92\n13:        97.00000           6069.6         58.75\n14:        96.66667           4095.7        296.55\n15:        96.66667          24605.0        178.38\n16:        96.66667           9769.2        378.62\n17:        96.66667           8675.8        436.98\n18:        96.66667           1044.9          7.84\n19:        96.66667          71137.8        186.06\n20:        96.66667           1501.3        102.37\n    Composite_Score Market_Cap_(mil) Current_Price\n\n# 2.2 Top Growth Stocks (High RS Rating + Strong YTD Performance)\ncat(\"\\n--- Top 20 Growth Stocks ---\\n\")\n\n\n--- Top 20 Growth Stocks ---\n\ntop_growth &lt;- stocks_filtered %&gt;%\n  filter(!is.na(RS_Rating) & !is.na(`%_Chg_YTD`)) %&gt;%\n  filter(RS_Rating &gt;= 90 & `%_Chg_YTD` &gt; 20) %&gt;%\n  arrange(desc(RS_Rating), desc(`%_Chg_YTD`)) %&gt;%\n  select(Symbol, Name, Sector, RS_Rating, `%_Chg_YTD`, `%_Chg_12_Months`,\n         `Market_Cap_(mil)`, Current_Price) %&gt;%\n  head(20)\n\nprint(top_growth)\n\n    Symbol                    Name     Sector RS_Rating %_Chg_YTD\n    &lt;char&gt;                  &lt;char&gt;     &lt;char&gt;     &lt;num&gt;     &lt;num&gt;\n 1:    RGC    Regencell Bioscience    MEDICAL        99  12130.67\n 2:   QMMM      QMMM Holdings Cl A BUSINS SVC        99   9228.13\n 3:   DFDV        DeFi Development    FINANCE        99   1896.91\n 4:   SUPX    SuperX AI Technology BUSINS SVC        99   1532.00\n 5:   ZEPP         Zepp Health ADR   CONSUMER        99   1483.08\n 6:    TOI      Oncology Institute    MEDICAL        99   1437.22\n 7:   ABVX              Abivax ADR    MEDICAL        99   1139.89\n 8:   BETR   Better Home & Finance    FINANCE        99    791.48\n 9:   ABVE  Above Food Ingredients AGRICULTRE        99    761.11\n10:   NVFY          Nova Lifestyle   CONSUMER        99    742.75\n11:   NEGG         Newegg Commerce     RETAIL        99    741.57\n12:   SOGP         Sound Group ADR   INTERNET        99    719.82\n13:   UAMY  United States Antimony     MINING        99    578.53\n14:   NBTX          Nanobiotix ADR    MEDICAL        99    568.99\n15:   BMNR BitMine Immersion Techs    FINANCE        99    546.28\n16:   TDUP                 ThredUp     RETAIL        99    542.45\n17:   OKLO                    Oklo     ENERGY        99    540.84\n18:   IREN                    IREN    FINANCE        99    540.53\n19:    TMC  TMC the metals company     MINING        99    536.61\n20:   PVLA   Palvella Therapeutics    MEDICAL        99    508.33\n    Symbol                    Name     Sector RS_Rating %_Chg_YTD\n    %_Chg_12_Months Market_Cap_(mil) Current_Price\n              &lt;num&gt;            &lt;num&gt;         &lt;num&gt;\n 1:         13092.0           7867.1         15.90\n 2:          1190.8           6830.4        119.40\n 3:          1794.4            354.2         13.85\n 4:          1191.1            794.2         61.20\n 5:          1110.6            630.6         41.16\n 6:          1348.2            444.1          4.75\n 7:           768.5           6815.9         90.76\n 8:           431.2           1215.9         79.52\n 9:           811.9             37.2          4.65\n10:           357.3            132.1          5.67\n11:           438.1           1294.1         66.72\n12:           824.2             87.3         17.79\n13:          1780.7           1667.9         12.01\n14:           304.2            910.6         19.20\n15:          1926.1          14879.9         50.41\n16:          1240.4           1055.9          8.93\n17:           653.3          20082.2        136.05\n18:           580.7          12462.8         62.90\n19:           617.4           2897.6          7.13\n20:           329.4             96.4         73.00\n    %_Chg_12_Months Market_Cap_(mil) Current_Price\n\n# 2.3 Top Value Stocks (High EPS Rating + Low P/E in Group)\ncat(\"\\n--- Top 20 Value Stocks ---\\n\")\n\n\n--- Top 20 Value Stocks ---\n\ntop_value &lt;- stocks_filtered %&gt;%\n  filter(!is.na(EPS_Rating) & !is.na(`P/E_Ratio_Rank_in_Grp`)) %&gt;%\n  filter(EPS_Rating &gt;= 80 & `P/E_Ratio_Rank_in_Grp` &lt;= 30) %&gt;%\n  arrange(desc(EPS_Rating), `P/E_Ratio_Rank_in_Grp`) %&gt;%\n  select(Symbol, Name, Sector, EPS_Rating, `P/E_Ratio_Rank_in_Grp`, \n         ROE, `Market_Cap_(mil)`, Current_Price) %&gt;%\n  head(20)\n\nprint(top_value)\n\n    Symbol                    Name     Sector EPS_Rating P/E_Ratio_Rank_in_Grp\n    &lt;char&gt;                  &lt;char&gt;     &lt;char&gt;      &lt;num&gt;                 &lt;num&gt;\n 1:   AXON         Axon Enterprise BUSINS SVC         99                     1\n 2:   CLMB  Climb Global Solutions     RETAIL         99                     1\n 3:    CLS               Celestica  ELECTRNCS         99                     1\n 4:   REVG               REV Group   BUILDING         99                     1\n 5:   KNSL   Kinsale Capital Group  INSURANCE         99                     6\n 6:    CCJ                  Cameco     MINING         99                     7\n 7:   PODD                 Insulet    MEDICAL         99                    10\n 8:    PEN                Penumbra    MEDICAL         99                    13\n 9:   PLMR        Palomar Holdings  INSURANCE         99                    14\n10:   PAYS                 Paysign    FINANCE         99                    16\n11:    APH           Amphenol Cl A  ELECTRNCS         99                    18\n12:    FIX     Comfort Systems USA   BUILDING         99                    20\n13:    MDB                 MongoDB   SOFTWARE         99                    20\n14:   STRL Sterling Infrastructure   BUILDING         99                    20\n15:     BZ             Kanzhun ADR   INTERNET         99                    25\n16:   USLM    U.S. Lime & Minerals   BUILDING         99                    25\n17:   ANET         Arista Networks   COMPUTER         99                    28\n18:   NVMI                    Nova      CHIPS         99                    28\n19:   FUTU       Futu Holdings ADR    FINANCE         99                    29\n20:   TFPM Triple Flag Prec Metals     MINING         99                    30\n    Symbol                    Name     Sector EPS_Rating P/E_Ratio_Rank_in_Grp\n      ROE Market_Cap_(mil) Current_Price\n    &lt;num&gt;            &lt;num&gt;         &lt;num&gt;\n 1:  23.6          57775.0        735.95\n 2:  29.0            609.0        131.91\n 3:  25.1          34120.8        296.62\n 4:  18.7           2968.8         60.84\n 5:  29.2           9841.5        422.38\n 6:   4.7          38364.0         88.13\n 7:  23.7          22589.5        320.91\n 8:   7.5           9797.0        252.99\n 9:  22.3           3028.5        113.25\n10:  13.9            323.4          5.94\n11:  26.3         163383.6        133.82\n12:  35.0          34633.9        981.66\n13:  16.0          27137.9        333.57\n14:  28.8          11531.2        379.08\n15:  19.2           9783.2         22.14\n16:  24.4           3846.7        134.35\n17:  33.8         193331.0        153.82\n18:  25.6          10144.8        345.06\n19:  21.9          24605.0        178.38\n20:   6.3           5793.2         28.76\n      ROE Market_Cap_(mil) Current_Price\n\n# 2.4 Top Momentum Stocks (Strong recent performance)\ncat(\"\\n--- Top 20 Momentum Stocks (3-Month Performance) ---\\n\")\n\n\n--- Top 20 Momentum Stocks (3-Month Performance) ---\n\ntop_momentum &lt;- stocks_filtered %&gt;%\n  filter(!is.na(`%_Chg_3_Months`)) %&gt;%\n  arrange(desc(`%_Chg_3_Months`)) %&gt;%\n  select(Symbol, Name, Sector, `%_Chg_1_Month`, `%_Chg_3_Months`, \n         `%_Chg_6_Months`, RS_Rating, `Market_Cap_(mil)`) %&gt;%\n  head(20)\n\nprint(top_momentum)\n\n    Symbol                      Name     Sector %_Chg_1_Month %_Chg_3_Months\n    &lt;char&gt;                    &lt;char&gt;     &lt;char&gt;         &lt;num&gt;          &lt;num&gt;\n 1:  WRCDF                  Wirecard   SOFTWARE         -99.0        19900.0\n 2:  MFLTY             Missfresh ADR     RETAIL           0.0         9900.0\n 3:  VIAOY         VIA optronics ADR  ELECTRNCS          34.4         6933.3\n 4:   QMMM        QMMM Holdings Cl A BUSINS SVC          25.7         4938.0\n 5:   SPRB        Spruce Biosciences    MEDICAL        1495.7         1356.2\n 6:   NUAI  New Era Energy & Digital     ENERGY         536.3         1198.5\n 7:   BMMJ               Body & Mind   CONSUMER           0.0          900.0\n 8:   MOVE                    Movano    MEDICAL        1143.9          824.4\n 9:    IBG Innovation Beverage Group ALCOHL/TOB         443.9          529.0\n10:   SUPX      SuperX AI Technology BUSINS SVC          11.5          481.7\n11:   BETR     Better Home & Finance    FINANCE          18.7          448.4\n12:   PTNM                  Pitanium   CONSUMER          20.7          446.8\n13:   SLNH           Soluna Holdings  ELECTRNCS         -12.9          430.9\n14:   MENS             Jyong Biotech    MEDICAL           7.6          416.1\n15:   CELC                  Celcuity    MEDICAL          31.5          405.1\n16:   DVLT              Datavault AI  ELECTRNCS         426.2          398.9\n17:   VWAV       VisionWave Holdings  AEROSPACE          25.5          398.3\n18:   EMPG               Empro Group   CONSUMER          18.6          366.7\n19:  LEJUY         Leju Holdings ADR   INTERNET          41.7          363.6\n20:   ORBS          Eightco Holdings       MISC         -51.3          349.0\n    Symbol                      Name     Sector %_Chg_1_Month %_Chg_3_Months\n    %_Chg_6_Months RS_Rating Market_Cap_(mil)\n             &lt;num&gt;     &lt;num&gt;            &lt;num&gt;\n 1:            0.0         1              0.0\n 2:            0.0        19              0.0\n 3:         6933.3         1              0.5\n 4:        15820.0        99           6830.4\n 5:         1169.9        99             75.0\n 6:          534.9        99            152.2\n 7:           29.0         1              1.5\n 8:          -20.3         4              5.8\n 9:          420.0        73              9.1\n10:          444.0        99            794.2\n11:          451.8        99           1215.9\n12:             NA        99            239.1\n13:          264.4        99             91.9\n14:             NA        99           4646.8\n15:          542.8        99           3011.0\n16:          331.9        99            605.8\n17:            2.8        98            166.4\n18:             NA        99            144.6\n19:          -87.3        11              0.1\n20:          468.1        99             19.5\n    %_Chg_6_Months RS_Rating Market_Cap_(mil)\n\n# 2.5 Large Cap Leaders (Market Cap &gt; 10B with High Ratings)\ncat(\"\\n--- Top 15 Large Cap Leaders ---\\n\")\n\n\n--- Top 15 Large Cap Leaders ---\n\nlarge_cap_leaders &lt;- stocks_filtered %&gt;%\n  filter(!is.na(`Market_Cap_(mil)`) & `Market_Cap_(mil)` &gt; 10000) %&gt;%\n  filter(!is.na(RS_Rating) & RS_Rating &gt;= 85) %&gt;%\n  arrange(desc(RS_Rating), desc(`Market_Cap_(mil)`)) %&gt;%\n  select(Symbol, Name, Sector, RS_Rating, Comp_Rating, `Market_Cap_(mil)`,\n         `%_Chg_YTD`, ROE) %&gt;%\n  head(15)\n\nprint(large_cap_leaders)\n\n    Symbol                    Name    Sector RS_Rating Comp_Rating\n    &lt;char&gt;                  &lt;char&gt;    &lt;char&gt;     &lt;num&gt;       &lt;num&gt;\n 1:   NBIS       Nebius Group Cl A  SOFTWARE        99          57\n 2:   SNDK                 Sandisk  COMPUTER        99          90\n 3:     BE            Bloom Energy    ENERGY        99          99\n 4:   OKLO                    Oklo    ENERGY        99          85\n 5:   BMNR BitMine Immersion Techs   FINANCE        99          49\n 6:   RGTI       Rigetti Computing  COMPUTER        99          71\n 7:   IREN                    IREN   FINANCE        99          94\n 8:   QBTS          D-Wave Quantum  COMPUTER        99          85\n 9:   HOOD       Robinhood Markets   FINANCE        98          97\n10:    CLS               Celestica ELECTRNCS        98          99\n11:   RKLB              Rocket Lab AEROSPACE        98          78\n12:   CRDO        Credo Tech Group     CHIPS        98          99\n13:   ASTS         AST SpaceMobile   TELECOM        98          76\n14:   SATS                EchoStar   TELECOM        98          71\n15:   KTOS    Kratos Defense & Sec AEROSPACE        98          94\n    Market_Cap_(mil) %_Chg_YTD    ROE\n               &lt;num&gt;     &lt;num&gt;  &lt;num&gt;\n 1:          27920.5    323.32   -8.0\n 2:          27143.1        NA    4.3\n 3:          25828.6    396.98   12.1\n 4:          20082.2    540.84  -66.1\n 5:          14879.9    546.28  -54.5\n 6:          12590.6    154.52 -170.2\n 7:          12462.8    540.53    6.0\n 8:          11055.5    288.69 -736.5\n 9:         124227.9    275.17   13.5\n10:          34120.8    221.37   25.1\n11:          30947.2    153.47  -40.6\n12:          26909.4    131.44   21.3\n13:          26422.8    249.29 -103.8\n14:          21325.5    223.67   -0.6\n15:          15390.6    245.64    6.4\n\n# ====================================================================\n# 3. SECTOR AND INDUSTRY ANALYSIS\n# ====================================================================\n\ncat(\"\\n\", rep(\"=\", 70), \"\\n\", sep=\"\")\n\n\n======================================================================\n\ncat(\"SECTOR & INDUSTRY INSIGHTS\\n\")\n\nSECTOR & INDUSTRY INSIGHTS\n\ncat(rep(\"=\", 70), \"\\n\")\n\n= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = \n\n# 3.1 Sector Performance Summary\ncat(\"\\n--- Sector Performance Summary ---\\n\")\n\n\n--- Sector Performance Summary ---\n\nsector_analysis &lt;- stocks_filtered %&gt;%\n  filter(!is.na(Sector)) %&gt;%\n  group_by(Sector) %&gt;%\n  summarise(\n    Num_Stocks = n(),\n    Avg_RS_Rating = round(mean(RS_Rating, na.rm = TRUE), 1),\n    Avg_YTD_Return = round(mean(`%_Chg_YTD`, na.rm = TRUE), 1),\n    Avg_3Mo_Return = round(mean(`%_Chg_3_Months`, na.rm = TRUE), 1),\n    Median_Market_Cap = round(median(`Market_Cap_(mil)`, na.rm = TRUE), 0),\n    Top_Performers = sum(RS_Rating &gt;= 90, na.rm = TRUE)\n  ) %&gt;%\n  arrange(desc(Avg_RS_Rating))\n\nprint(sector_analysis)\n\n# A tibble: 33 × 7\n   Sector    Num_Stocks Avg_RS_Rating Avg_YTD_Return Avg_3Mo_Return\n   &lt;chr&gt;          &lt;int&gt;         &lt;dbl&gt;          &lt;dbl&gt;          &lt;dbl&gt;\n 1 MINING           130          84.2          124.            43.9\n 2 AEROSPACE         81          68.3           42.2           19.2\n 3 CHIPS            103          66.9           28             22.8\n 4 COMPUTER          57          62.2           43.7           22.7\n 5 UTILITY           90          60.8           18.1            8.1\n 6 ELECTRNCS         81          59.5           22.6          108. \n 7 TELECOM          119          55.1           32             14.8\n 8 METALS            57          54.9           10.9            6.4\n 9 MACHINE          183          54.1           17.7           10.7\n10 S&Ls              42          52.6            9.1            3.1\n# ℹ 23 more rows\n# ℹ 2 more variables: Median_Market_Cap &lt;dbl&gt;, Top_Performers &lt;int&gt;\n\n# 3.2 Top Industries by Average RS Rating\ncat(\"\\n--- Top 15 Industries by Average RS Rating ---\\n\")\n\n\n--- Top 15 Industries by Average RS Rating ---\n\nindustry_analysis &lt;- stocks_filtered %&gt;%\n  filter(!is.na(Industry_Name)) %&gt;%\n  group_by(Industry_Name, Sector) %&gt;%\n  summarise(\n    Num_Stocks = n(),\n    Avg_RS_Rating = round(mean(RS_Rating, na.rm = TRUE), 1),\n    Avg_YTD_Return = round(mean(`%_Chg_YTD`, na.rm = TRUE), 1),\n    .groups = 'drop'\n  ) %&gt;%\n  filter(Num_Stocks &gt;= 5) %&gt;%  # At least 5 stocks in industry\n  arrange(desc(Avg_RS_Rating)) %&gt;%\n  head(15)\n\nprint(industry_analysis)\n\n# A tibble: 15 × 5\n   Industry_Name            Sector    Num_Stocks Avg_RS_Rating Avg_YTD_Return\n   &lt;chr&gt;                    &lt;chr&gt;          &lt;int&gt;         &lt;dbl&gt;          &lt;dbl&gt;\n 1 Mining-Gold/Silver/Gems  MINING            78          88.6          130. \n 2 Telecom-Fiber Optics     TELECOM            8          85.9           67.4\n 3 Computer-Data Storage    COMPUTER          10          84.9           73.9\n 4 Retail/Whlsle-Jewelry    RETAIL             7          79.3           14.8\n 5 Banks-Money Center       BANKS             26          77.6           40.1\n 6 Mining-Metal Ores        MINING            52          77.6          115  \n 7 Elec-Semiconductor Equip CHIPS             30          77.2           35.3\n 8 Bldg-Heavy Construction  BUILDING          25          74.6           57.6\n 9 Elec-Scientific/Msrng    ELECTRNCS          8          74.6           27.1\n10 Retail-Department Stores RETAIL             5          71             -3.7\n11 Telecom-Cable/Satl Eqp   TELECOM           14          70.8           51.3\n12 Elec-Contract Mfg        ELECTRNCS         16          68.6           46.8\n13 Aerospace/Defense        AEROSPACE         81          68.3           42.2\n14 Utility-Electric Power   UTILITY           33          66.6           26.4\n15 Machinery-Constr/Mining  MACHINE            8          65.6           24.8\n\n# ====================================================================\n# 4. STATISTICAL INSIGHTS\n# ====================================================================\n\ncat(\"\\n\", rep(\"=\", 70), \"\\n\", sep=\"\")\n\n\n======================================================================\n\ncat(\"KEY STATISTICAL INSIGHTS\\n\")\n\nKEY STATISTICAL INSIGHTS\n\ncat(rep(\"=\", 70), \"\\n\")\n\n= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = \n\n# 4.1 Distribution of RS Ratings\ncat(\"\\n--- RS Rating Distribution ---\\n\")\n\n\n--- RS Rating Distribution ---\n\nrs_distribution &lt;- stocks_filtered %&gt;%\n  summarise(\n    Min = min(RS_Rating, na.rm = TRUE),\n    Q1 = quantile(RS_Rating, 0.25, na.rm = TRUE),\n    Median = median(RS_Rating, na.rm = TRUE),\n    Mean = round(mean(RS_Rating, na.rm = TRUE), 2),\n    Q3 = quantile(RS_Rating, 0.75, na.rm = TRUE),\n    Max = max(RS_Rating, na.rm = TRUE),\n    Elite_Stocks_90_Plus = sum(RS_Rating &gt;= 90, na.rm = TRUE)\n  )\n\nprint(rs_distribution)\n\n  Min Q1 Median  Mean Q3 Max Elite_Stocks_90_Plus\n1   1 16     45 47.32 81  99                  910\n\n# 4.2 YTD Performance Statistics\ncat(\"\\n--- YTD Performance Statistics ---\\n\")\n\n\n--- YTD Performance Statistics ---\n\nytd_stats &lt;- stocks_filtered %&gt;%\n  filter(!is.na(`%_Chg_YTD`)) %&gt;%\n  summarise(\n    Best_Performer = round(max(`%_Chg_YTD`, na.rm = TRUE), 2),\n    Worst_Performer = round(min(`%_Chg_YTD`, na.rm = TRUE), 2),\n    Median_Return = round(median(`%_Chg_YTD`, na.rm = TRUE), 2),\n    Mean_Return = round(mean(`%_Chg_YTD`, na.rm = TRUE), 2),\n    Positive_Returns = sum(`%_Chg_YTD` &gt; 0, na.rm = TRUE),\n    Negative_Returns = sum(`%_Chg_YTD` &lt; 0, na.rm = TRUE),\n    Winners_Pct = round(100 * sum(`%_Chg_YTD` &gt; 0, na.rm = TRUE) / n(), 1)\n  )\n\nprint(ytd_stats)\n\n  Best_Performer Worst_Performer Median_Return Mean_Return Positive_Returns\n1       12130.67            -100          0.73       19.39             3051\n  Negative_Returns Winners_Pct\n1             2833        51.2\n\n# 4.3 Correlation Analysis (Key Metrics)\ncat(\"\\n--- Correlation Analysis ---\\n\")\n\n\n--- Correlation Analysis ---\n\ncor_data &lt;- stocks_filtered %&gt;%\n  select(RS_Rating, EPS_Rating, Comp_Rating, `%_Chg_YTD`, \n         `%_Chg_3_Months`, Beta, ROE) %&gt;%\n  filter(complete.cases(.))\n\nif(nrow(cor_data) &gt; 0) {\n  cor_matrix &lt;- cor(cor_data, use = \"complete.obs\")\n  print(round(cor_matrix, 3))\n  \n  # Find strongest correlations with RS_Rating\n  cat(\"\\n--- Strongest Correlations with RS Rating ---\\n\")\n  rs_correlations &lt;- sort(cor_matrix[\"RS_Rating\",], decreasing = TRUE)\n  print(round(rs_correlations, 3))\n}\n\n               RS_Rating EPS_Rating Comp_Rating %_Chg_YTD %_Chg_3_Months   Beta\nRS_Rating          1.000      0.097       0.797     0.234          0.188  0.157\nEPS_Rating         0.097      1.000       0.572     0.001         -0.015 -0.053\nComp_Rating        0.797      0.572       1.000     0.172          0.129  0.109\n%_Chg_YTD          0.234      0.001       0.172     1.000          0.368  0.008\n%_Chg_3_Months     0.188     -0.015       0.129     0.368          1.000  0.028\nBeta               0.157     -0.053       0.109     0.008          0.028  1.000\nROE                0.011      0.002       0.013     0.000          0.000 -0.003\n                  ROE\nRS_Rating       0.011\nEPS_Rating      0.002\nComp_Rating     0.013\n%_Chg_YTD       0.000\n%_Chg_3_Months  0.000\nBeta           -0.003\nROE             1.000\n\n--- Strongest Correlations with RS Rating ---\n     RS_Rating    Comp_Rating      %_Chg_YTD %_Chg_3_Months           Beta \n         1.000          0.797          0.234          0.188          0.157 \n    EPS_Rating            ROE \n         0.097          0.011 \n\n# 4.4 Market Cap Segmentation\ncat(\"\\n--- Market Cap Distribution ---\\n\")\n\n\n--- Market Cap Distribution ---\n\nmarket_cap_segments &lt;- stocks_filtered %&gt;%\n  filter(!is.na(`Market_Cap_(mil)`)) %&gt;%\n  mutate(Cap_Category = case_when(\n    `Market_Cap_(mil)` &gt;= 10000 ~ \"Large Cap (&gt;$10B)\",\n    `Market_Cap_(mil)` &gt;= 2000 ~ \"Mid Cap ($2B-$10B)\",\n    `Market_Cap_(mil)` &gt;= 300 ~ \"Small Cap ($300M-$2B)\",\n    TRUE ~ \"Micro Cap (&lt;$300M)\"\n  )) %&gt;%\n  group_by(Cap_Category) %&gt;%\n  summarise(\n    Count = n(),\n    Avg_RS_Rating = round(mean(RS_Rating, na.rm = TRUE), 1),\n    Avg_YTD_Return = round(mean(`%_Chg_YTD`, na.rm = TRUE), 1),\n    Median_ROE = round(median(ROE, na.rm = TRUE), 1)\n  )\n\nprint(market_cap_segments)\n\n# A tibble: 4 × 5\n  Cap_Category          Count Avg_RS_Rating Avg_YTD_Return Median_ROE\n  &lt;chr&gt;                 &lt;int&gt;         &lt;dbl&gt;          &lt;dbl&gt;      &lt;dbl&gt;\n1 Large Cap (&gt;$10B)      1100          55.1           24.2       15.9\n2 Micro Cap (&lt;$300M)     2350          38.3            3.4      -22.9\n3 Mid Cap ($2B-$10B)     1163          52.8           38.8       11.8\n4 Small Cap ($300M-$2B)  1662          51.1           24.1        6.7\n\n# ====================================================================\n# 5. ADVANCED INSIGHTS\n# ====================================================================\n\ncat(\"\\n\", rep(\"=\", 70), \"\\n\", sep=\"\")\n\n\n======================================================================\n\ncat(\"ADVANCED INSIGHTS\\n\")\n\nADVANCED INSIGHTS\n\ncat(rep(\"=\", 70), \"\\n\")\n\n= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = \n\n# 5.1 Stocks with Acceleration (Improving EPS)\ncat(\"\\n--- Stocks with EPS Acceleration (3 Quarters) ---\\n\")\n\n\n--- Stocks with EPS Acceleration (3 Quarters) ---\n\neps_accelerators &lt;- stocks_filtered %&gt;%\n  filter(`EPS_Accel_3_Qtrs` == \"Yes\") %&gt;%\n  filter(!is.na(RS_Rating)) %&gt;%\n  arrange(desc(RS_Rating)) %&gt;%\n  select(Symbol, Name, Sector, RS_Rating, EPS_Rating, `EPS_%_Chg_Last_Qtr`,\n         `Market_Cap_(mil)`) %&gt;%\n  head(20)\n\nprint(eps_accelerators)\n\n    Symbol                    Name    Sector RS_Rating EPS_Rating\n    &lt;char&gt;                  &lt;char&gt;    &lt;char&gt;     &lt;num&gt;      &lt;num&gt;\n 1:    CLS               Celestica ELECTRNCS        98         99\n 2:   EGAN                   eGain  SOFTWARE        98         43\n 3:   SSRM              SSR Mining    MINING        98         77\n 4:   ALNT                 Allient   MACHINE        97         84\n 5:   CIEN                   Ciena   TELECOM        97         87\n 6:   KRMN         Karman Holdings AEROSPACE        97         79\n 7:    SEI     Solaris Energy Infr  CHEMICAL        97         96\n 8:  ATEYY           Advantest ADR     CHIPS        96         95\n 9:    FIX     Comfort Systems USA  BUILDING        96         99\n10:   INDV                Indivior   MEDICAL        96         79\n11:   MLCI     Mount Logan Capital   FINANCE        96          0\n12:    PGY     Pagaya Technologies  SOFTWARE        96         80\n13:   STRL Sterling Infrastructure  BUILDING        96         99\n14:   WLDN           Willdan Group  BUILDING        96         95\n15:   BTSG  BrightSpring Hlth Svcs   MEDICAL        95         80\n16:    HBM         Hudbay Minerals    MINING        95         76\n17:    KGC            Kinross Gold    MINING        95         93\n18:   SOFI       SoFi Technologies   FINANCE        95         80\n19:    BTG                  B2Gold    MINING        94         82\n20:    GTX          Garrett Motion      AUTO        94         76\n    Symbol                    Name    Sector RS_Rating EPS_Rating\n    EPS_%_Chg_Last_Qtr Market_Cap_(mil)\n                &lt;char&gt;            &lt;num&gt;\n 1:                 54          34120.8\n 2:                 13            388.0\n 3:               1175           4639.6\n 4:                 97            930.5\n 5:                 91          25255.9\n 6:                233          11134.9\n 7:                162           3441.3\n 8:                325          86390.1\n 9:                102          34633.9\n10:                  6           3135.4\n11:                -34             99.7\n12:                540           2224.7\n13:                 41          11531.2\n14:                173           1501.3\n15:                900           6028.7\n16:               1800           6263.4\n17:                214          29177.6\n18:                700          34738.0\n19:                100           6877.8\n20:                 58           3424.8\n    EPS_%_Chg_Last_Qtr Market_Cap_(mil)\n\n# 5.2 Institutional Favorites (High Fund Ownership)\ncat(\"\\n--- Top 15 Institutional Favorites (High Fund %) ---\\n\")\n\n\n--- Top 15 Institutional Favorites (High Fund %) ---\n\ninstitutional_favs &lt;- stocks_filtered %&gt;%\n  filter(!is.na(`Funds_%`)) %&gt;%\n  mutate(`Funds_%` = as.numeric(`Funds_%`)) %&gt;%\n  filter(`Funds_%` &gt; 0) %&gt;%\n  arrange(desc(`Funds_%`)) %&gt;%\n  select(Symbol, Name, Sector, `Funds_%`, `Number_of_Funds`, \n         RS_Rating, `Market_Cap_(mil)`) %&gt;%\n  head(15)\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `Funds_% = as.numeric(`Funds_%`)`.\nCaused by warning:\n! NAs introduced by coercion\n\nprint(institutional_favs)\n\n    Symbol                     Name     Sector Funds_% Number_of_Funds\n    &lt;char&gt;                   &lt;char&gt;     &lt;char&gt;   &lt;num&gt;          &lt;char&gt;\n 1:  ANCTF              Couche-Tard     RETAIL      99            1211\n 2:   ASTL       Algoma Steel Group     METALS      99             143\n 3:   ATUS          Altice USA Cl A    TELECOM      99             262\n 4:   BACQ Bleichroeder Acqn I Cl A       MISC      99              32\n 5:   BATL            Battalion Oil     ENERGY      99              35\n 6:     BV      BrightView Holdings BUSINS SVC      99             324\n 7:  BYDDF                  BYD Co.       AUTO      99            2284\n 8:    CAR        Avis Budget Group    LEISURE      99             397\n 9:   CELH         Celsius Holdings   FOOD/BEV      99             729\n10:   CNCK          Coincheck Group    FINANCE      99               7\n11:   CRML          Critical Metals     MINING      99              74\n12:   CTRI         Centuri Holdings    UTILITY      99             215\n13:    CVI               CVR Energy     ENERGY      99             336\n14:  CWENA     Clearway Energy Cl A     ENERGY      99             331\n15:    CWH       Camping World Cl A     RETAIL      99             277\n    RS_Rating Market_Cap_(mil)\n        &lt;num&gt;            &lt;num&gt;\n 1:        32          50351.7\n 2:         6            136.4\n 3:        12           1021.7\n 4:        80            410.5\n 5:         8             21.2\n 6:        14           1268.2\n 7:        19          36693.5\n 8:        88           5525.7\n 9:        95          16340.9\n10:         5             40.0\n11:        99            140.6\n12:        48           1884.7\n13:        94           3979.0\n14:        68           6041.5\n15:        19           1710.1\n\n# 5.3 High ROE Stocks\ncat(\"\\n--- Top 15 Stocks by Return on Equity (ROE) ---\\n\")\n\n\n--- Top 15 Stocks by Return on Equity (ROE) ---\n\nhigh_roe &lt;- stocks_filtered %&gt;%\n  filter(!is.na(ROE) & ROE &gt; 0) %&gt;%\n  arrange(desc(ROE)) %&gt;%\n  select(Symbol, Name, Sector, ROE, EPS_Rating, RS_Rating, \n         `Market_Cap_(mil)`) %&gt;%\n  head(15)\n\nprint(high_roe)\n\n    Symbol                      Name     Sector        ROE EPS_Rating RS_Rating\n    &lt;char&gt;                    &lt;char&gt;     &lt;char&gt;      &lt;num&gt;      &lt;num&gt;     &lt;num&gt;\n 1:    MGA       Magna International       AUTO 13253012.1         54        73\n 2:    PBT  Permian Basin Royalty Tr     ENERGY    13202.6         43        92\n 3:   STEC      Santech Holdings ADR    FINANCE     5159.3         65        91\n 4:   ENIC            Enel Chile ADR    UTILITY     2961.0          5        84\n 5:   INBX       Inhibrx Biosciences    MEDICAL     1905.9         18        99\n 6:    LYV           Live Nation Ent    LEISURE     1482.0         66        66\n 7:   NEXM          NexMetals Mining     MINING     1347.0         12         8\n 8:   STFS Star Fashion Culture Cl A BUSINS SVC     1080.2          5         1\n 9:    SBR     Sabine Royalty Tr UBI     ENERGY      922.5         60        55\n10:   TZOO                 Travelzoo    LEISURE      727.6         60         9\n11:     CL         Colgate-Palmolive   CONSUMER      721.6         61        14\n12:    HRB                 H&R Block    FINANCE      716.8         89        19\n13:   CSBR        Champions Oncology    MEDICAL      559.1          5        56\n14:    OGN                   Organon    MEDICAL      529.9         29         8\n15:    COR                   Cencora    MEDICAL      472.0         94        82\n    Market_Cap_(mil)\n               &lt;num&gt;\n 1:          13031.2\n 2:            839.9\n 3:             33.7\n 4:           5353.5\n 5:            829.8\n 6:          36227.1\n 7:            104.7\n 8:              2.2\n 9:           1015.0\n10:            110.9\n11:          63041.2\n12:           6993.4\n13:             95.0\n14:           2381.3\n15:          64504.8\n\n# 5.4 Breakout Candidates (Near New Highs)\ncat(\"\\n--- Breakout Candidates (Within 5% of New High) ---\\n\")\n\n\n--- Breakout Candidates (Within 5% of New High) ---\n\nbreakout_candidates &lt;- stocks_filtered %&gt;%\n  filter(`RS_Line_Within_5%_of_New_High` == 1 | \n         (`%_Off_High` &gt;= -5 & `%_Off_High` &lt;= 0)) %&gt;%\n  filter(!is.na(RS_Rating) & RS_Rating &gt;= 85) %&gt;%\n  arrange(desc(RS_Rating)) %&gt;%\n  select(Symbol, Name, Sector, RS_Rating, `%_Off_High`, `%_Chg_3_Months`,\n         `Market_Cap_(mil)`) %&gt;%\n  head(20)\n\nprint(breakout_candidates)\n\n    Symbol                     Name    Sector RS_Rating %_Off_High\n    &lt;char&gt;                   &lt;char&gt;    &lt;char&gt;     &lt;num&gt;      &lt;num&gt;\n 1:    AGH Aureus Greenway Holdings   LEISURE        99      -4.50\n 2:   ANRO        Alto Neuroscience   MEDICAL        99      -9.76\n 3:   CELC                 Celcuity   MEDICAL        99     -14.49\n 4:   CIFR            Cipher Mining   FINANCE        99      -6.09\n 5:   DVLT             Datavault AI ELECTRNCS        99      10.32\n 6:   EMPG              Empro Group  CONSUMER        99      -4.30\n 7:   GRAL                    GRAIL   MEDICAL        99     -13.21\n 8:   INBX      Inhibrx Biosciences   MEDICAL        99      45.89\n 9:   INTG               InterGroup  REAL EST        99      -3.65\n10:    JFU                   9F ADR   FINANCE        99     -11.22\n11:    KOD          Kodiak Sciences   MEDICAL        99      -7.17\n12:   NVFY           Nova Lifestyle  CONSUMER        99      -6.74\n13:   SNDK                  Sandisk  COMPUTER        99      10.84\n14:    TOI       Oncology Institute   MEDICAL        99      -1.04\n15:   VSAT                   ViaSat   TELECOM        99      -1.45\n16:   AIRS   AirSculpt Technologies   MEDICAL        98      -0.44\n17:   AVTX       Avalo Therapeutics   MEDICAL        98      -9.48\n18:   AXTI                      AXT     CHIPS        98       6.88\n19:    BNR Burning Rock Biotech ADR   MEDICAL        98      17.39\n20:    CLS                Celestica ELECTRNCS        98      -0.08\n    Symbol                     Name    Sector RS_Rating %_Off_High\n    %_Chg_3_Months Market_Cap_(mil)\n             &lt;num&gt;            &lt;num&gt;\n 1:          315.2            111.6\n 2:          257.1            297.8\n 3:          405.1           3011.0\n 4:          210.7           8125.2\n 5:          398.9            605.8\n 6:          366.7            144.6\n 7:          125.1           3222.2\n 8:          148.3            829.8\n 9:          270.9             88.2\n10:          203.5             61.5\n11:          126.5            986.1\n12:          180.7            132.1\n13:          342.6          27143.1\n14:           30.1            444.1\n15:          163.4           5116.7\n16:           81.1            711.1\n17:          165.0            231.1\n18:          155.7            279.5\n19:           56.0            134.8\n20:           80.9          34120.8\n    %_Chg_3_Months Market_Cap_(mil)\n\n# 5.5 Sector Concentration of Top Performers\ncat(\"\\n--- Sector Distribution of Elite Stocks (RS &gt;= 90) ---\\n\")\n\n\n--- Sector Distribution of Elite Stocks (RS &gt;= 90) ---\n\nelite_sector_dist &lt;- stocks_filtered %&gt;%\n  filter(RS_Rating &gt;= 90) %&gt;%\n  group_by(Sector) %&gt;%\n  summarise(\n    Elite_Count = n(),\n    Avg_RS = round(mean(RS_Rating, na.rm = TRUE), 1),\n    Avg_YTD = round(mean(`%_Chg_YTD`, na.rm = TRUE), 1)\n  ) %&gt;%\n  arrange(desc(Elite_Count))\n\nprint(elite_sector_dist)\n\n# A tibble: 32 × 4\n   Sector     Elite_Count Avg_RS Avg_YTD\n   &lt;chr&gt;            &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt;\n 1 MEDICAL            244   94.9   174. \n 2 MINING              85   95     172. \n 3 ENERGY              51   95.3   122. \n 4 SOFTWARE            51   95     113. \n 5 FINANCE             45   95.6   214. \n 6 BUSINS SVC          42   94.3   358. \n 7 CHIPS               40   94.4    80.7\n 8 MACHINE             37   94.8   101. \n 9 CONSUMER            31   94.9   182. \n10 RETAIL              30   93.8    91.3\n# ℹ 22 more rows\n\n# ====================================================================\n# 6. VISUALIZATIONS\n# ====================================================================\n\ncat(\"\\n\", rep(\"=\", 70), \"\\n\", sep=\"\")\n\n\n======================================================================\n\ncat(\"GENERATING VISUALIZATIONS...\\n\")\n\nGENERATING VISUALIZATIONS...\n\ncat(rep(\"=\", 70), \"\\n\")\n\n= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = \n\n# 6.1 RS Rating Distribution\np1 &lt;- ggplot(stocks_filtered %&gt;% filter(!is.na(RS_Rating)), \n             aes(x = RS_Rating)) +\n  geom_histogram(bins = 50, fill = \"steelblue\", color = \"white\", alpha = 0.8) +\n  geom_vline(xintercept = 90, color = \"red\", linetype = \"dashed\", size = 1) +\n  labs(title = \"Distribution of RS Ratings\",\n       subtitle = \"Red line indicates elite threshold (RS &gt;= 90)\",\n       x = \"RS Rating\",\n       y = \"Number of Stocks\") +\n  theme_minimal(base_size = 14)\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\nggsave(\"outputs/rs_rating_distribution.png\", p1, \n       width = 10, height = 6, dpi = 300)\n\n# 6.2 Sector Performance Comparison\nsector_plot_data &lt;- stocks_filtered %&gt;%\n  filter(!is.na(Sector) & !is.na(`%_Chg_YTD`)) %&gt;%\n  group_by(Sector) %&gt;%\n  summarise(\n    Avg_YTD = mean(`%_Chg_YTD`, na.rm = TRUE),\n    Count = n()\n  ) %&gt;%\n  filter(Count &gt;= 10)\n\np2 &lt;- ggplot(sector_plot_data, aes(x = reorder(Sector, Avg_YTD), y = Avg_YTD)) +\n  geom_col(fill = \"coral\", alpha = 0.8) +\n  coord_flip() +\n  labs(title = \"Average YTD Performance by Sector\",\n       subtitle = \"Sectors with at least 10 stocks\",\n       x = \"Sector\",\n       y = \"Average YTD Return (%)\") +\n  theme_minimal(base_size = 14) +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray50\")\n\nggsave(\"outputs/sector_performance.png\", p2, \n       width = 10, height = 8, dpi = 300)\n\n# 6.3 Scatter Plot: RS Rating vs YTD Performance\nscatter_data &lt;- stocks_filtered %&gt;%\n  filter(!is.na(RS_Rating) & !is.na(`%_Chg_YTD`)) %&gt;%\n  filter(`Market_Cap_(mil)` &gt; 300)  # Focus on companies &gt; 300M\n\np3 &lt;- ggplot(scatter_data, aes(x = RS_Rating, y = `%_Chg_YTD`)) +\n  geom_point(aes(color = Sector, size = `Market_Cap_(mil)`), alpha = 0.6) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"darkblue\") +\n  scale_size_continuous(name = \"Market Cap (M)\", range = c(1, 8),\n                        labels = comma) +\n  labs(title = \"RS Rating vs YTD Performance\",\n       subtitle = \"Stocks with Market Cap &gt; $300M\",\n       x = \"RS Rating\",\n       y = \"YTD Return (%)\") +\n  theme_minimal(base_size = 12) +\n  theme(legend.position = \"right\")\n\nggsave(\"outputs/rs_vs_ytd_scatter.png\", p3, \n       width = 12, height = 8, dpi = 300)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n# 6.4 Top 10 Sectors by RS Rating\ntop_sectors &lt;- stocks_filtered %&gt;%\n  filter(!is.na(Sector) & !is.na(RS_Rating)) %&gt;%\n  group_by(Sector) %&gt;%\n  summarise(\n    Avg_RS = mean(RS_Rating, na.rm = TRUE),\n    Count = n()\n  ) %&gt;%\n  filter(Count &gt;= 15) %&gt;%\n  arrange(desc(Avg_RS)) %&gt;%\n  head(10)\n\np4 &lt;- ggplot(top_sectors, aes(x = reorder(Sector, Avg_RS), y = Avg_RS)) +\n  geom_col(fill = \"darkgreen\", alpha = 0.8) +\n  geom_text(aes(label = round(Avg_RS, 1)), hjust = -0.2, size = 4) +\n  coord_flip() +\n  ylim(0, 100) +\n  labs(title = \"Top 10 Sectors by Average RS Rating\",\n       subtitle = \"Sectors with at least 15 stocks\",\n       x = \"Sector\",\n       y = \"Average RS Rating\") +\n  theme_minimal(base_size = 14)\n\nggsave(\"outputs/top_sectors_rs.png\", p4, \n       width = 10, height = 7, dpi = 300)\n\n# 6.5 Market Cap Distribution\ncap_dist_data &lt;- stocks_filtered %&gt;%\n  filter(!is.na(`Market_Cap_(mil)`) & `Market_Cap_(mil)` &gt; 0) %&gt;%\n  mutate(Log_Market_Cap = log10(`Market_Cap_(mil)`))\n\np5 &lt;- ggplot(cap_dist_data, aes(x = Log_Market_Cap)) +\n  geom_histogram(bins = 40, fill = \"purple\", alpha = 0.7, color = \"white\") +\n  labs(title = \"Distribution of Market Capitalization (Log Scale)\",\n       x = \"Market Cap (Log10 of Millions)\",\n       y = \"Number of Stocks\") +\n  theme_minimal(base_size = 14)\n\nggsave(\"outputs/market_cap_distribution.png\", p5, \n       width = 10, height = 6, dpi = 300)\n\n# 6.6 Correlation Heatmap\nif(exists(\"cor_matrix\") && !is.null(cor_matrix)) {\n  png(\"outputs/correlation_heatmap.png\", \n      width = 10, height = 10, units = \"in\", res = 300)\n  corrplot(cor_matrix, method = \"color\", type = \"upper\",\n           addCoef.col = \"black\", number.cex = 0.8,\n           tl.col = \"black\", tl.srt = 45,\n           title = \"Correlation Matrix of Key Metrics\",\n           mar = c(0,0,2,0))\n  dev.off()\n}\n\nquartz_off_screen \n                2 \n\n# 6.7 Performance Comparison: Multiple Timeframes\nperformance_data &lt;- stocks_filtered %&gt;%\n  filter(!is.na(`%_Chg_1_Month`) & !is.na(`%_Chg_3_Months`) & \n         !is.na(`%_Chg_6_Months`) & !is.na(`%_Chg_12_Months`)) %&gt;%\n  select(Symbol, `%_Chg_1_Month`, `%_Chg_3_Months`, \n         `%_Chg_6_Months`, `%_Chg_12_Months`) %&gt;%\n  pivot_longer(cols = -Symbol, names_to = \"Period\", values_to = \"Return\") %&gt;%\n  mutate(Period = factor(Period, \n                        levels = c(\"%_Chg_1_Month\", \"%_Chg_3_Months\", \n                                  \"%_Chg_6_Months\", \"%_Chg_12_Months\"),\n                        labels = c(\"1 Month\", \"3 Months\", \"6 Months\", \"12 Months\")))\n\np6 &lt;- ggplot(performance_data, aes(x = Period, y = Return)) +\n  geom_violin(fill = \"lightblue\", alpha = 0.7) +\n  geom_boxplot(width = 0.2, fill = \"white\", alpha = 0.5) +\n  labs(title = \"Stock Performance Distribution Across Timeframes\",\n       x = \"Time Period\",\n       y = \"Return (%)\") +\n  theme_minimal(base_size = 14) +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"red\")\n\nggsave(\"outputs/performance_timeframes.png\", p6, \n       width = 10, height = 6, dpi = 300)\n\n# 6.8 Top 20 Stocks Performance Chart\ntop20_perf &lt;- stocks_filtered %&gt;%\n  filter(!is.na(`%_Chg_YTD`)) %&gt;%\n  arrange(desc(`%_Chg_YTD`)) %&gt;%\n  head(20) %&gt;%\n  select(Symbol, Name, `%_Chg_YTD`, Sector)\n\np7 &lt;- ggplot(top20_perf, aes(x = reorder(Symbol, `%_Chg_YTD`), \n                              y = `%_Chg_YTD`, fill = Sector)) +\n  geom_col(alpha = 0.8) +\n  coord_flip() +\n  labs(title = \"Top 20 Stocks by YTD Performance\",\n       x = \"Stock Symbol\",\n       y = \"YTD Return (%)\") +\n  theme_minimal(base_size = 12) +\n  theme(legend.position = \"right\")\n\nggsave(\"outputs/top20_ytd_performers.png\", p7, \n       width = 12, height = 8, dpi = 300)\n\n# ====================================================================\n# 7. EXPORT KEY RESULTS\n# ====================================================================\n\ncat(\"\\n\", rep(\"=\", 70), \"\\n\", sep=\"\")\n\n\n======================================================================\n\ncat(\"EXPORTING RESULTS...\\n\")\n\nEXPORTING RESULTS...\n\ncat(rep(\"=\", 70), \"\\n\")\n\n= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = \n\n# Export top stocks lists to CSV\nwrite.csv(top_by_composite, \n          \"outputs/top_stocks_composite.csv\", \n          row.names = FALSE)\n\nwrite.csv(top_growth, \n          \"outputs/top_growth_stocks.csv\", \n          row.names = FALSE)\n\nwrite.csv(top_value, \n          \"outputs/top_value_stocks.csv\", \n          row.names = FALSE)\n\nwrite.csv(top_momentum, \n          \"outputs/top_momentum_stocks.csv\", \n          row.names = FALSE)\n\nwrite.csv(large_cap_leaders, \n          \"outputs/large_cap_leaders.csv\", \n          row.names = FALSE)\n\nwrite.csv(sector_analysis, \n          \"outputs/sector_analysis.csv\", \n          row.names = FALSE)\n\nwrite.csv(industry_analysis, \n          \"outputs/industry_analysis.csv\", \n          row.names = FALSE)\n\n# ====================================================================\n# 8. SUMMARY REPORT\n# ====================================================================\n\ncat(\"\\n\", rep(\"=\", 70), \"\\n\", sep=\"\")\n\n\n======================================================================\n\ncat(\"ANALYSIS COMPLETE!\\n\")\n\nANALYSIS COMPLETE!\n\ncat(rep(\"=\", 70), \"\\n\")\n\n= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = \n\ncat(\"\\nKey Findings Summary:\\n\")\n\n\nKey Findings Summary:\n\ncat(sprintf(\"- Total stocks analyzed: %d\\n\", nrow(stocks_filtered)))\n\n- Total stocks analyzed: 6275\n\ncat(sprintf(\"- Elite stocks (RS &gt;= 90): %d (%.1f%%)\\n\", \n            sum(stocks_filtered$RS_Rating &gt;= 90, na.rm = TRUE),\n            100 * sum(stocks_filtered$RS_Rating &gt;= 90, na.rm = TRUE) / nrow(stocks_filtered)))\n\n- Elite stocks (RS &gt;= 90): 910 (14.5%)\n\ncat(sprintf(\"- Average RS Rating: %.1f\\n\", mean(stocks_filtered$RS_Rating, na.rm = TRUE)))\n\n- Average RS Rating: 47.3\n\ncat(sprintf(\"- Median YTD Return: %.1f%%\\n\", median(stocks_filtered$`%_Chg_YTD`, na.rm = TRUE)))\n\n- Median YTD Return: 0.7%\n\ncat(sprintf(\"- Number of sectors: %d\\n\", length(unique(stocks_filtered$Sector[!is.na(stocks_filtered$Sector)]))))\n\n- Number of sectors: 33\n\ncat(\"\\n\\nOutput files generated:\\n\")\n\n\n\nOutput files generated:\n\ncat(\"CSV Files:\\n\")\n\nCSV Files:\n\ncat(\"  - top_stocks_composite.csv\\n\")\n\n  - top_stocks_composite.csv\n\ncat(\"  - top_growth_stocks.csv\\n\")\n\n  - top_growth_stocks.csv\n\ncat(\"  - top_value_stocks.csv\\n\")\n\n  - top_value_stocks.csv\n\ncat(\"  - top_momentum_stocks.csv\\n\")\n\n  - top_momentum_stocks.csv\n\ncat(\"  - large_cap_leaders.csv\\n\")\n\n  - large_cap_leaders.csv\n\ncat(\"  - sector_analysis.csv\\n\")\n\n  - sector_analysis.csv\n\ncat(\"  - industry_analysis.csv\\n\")\n\n  - industry_analysis.csv\n\ncat(\"\\nVisualization Files:\\n\")\n\n\nVisualization Files:\n\ncat(\"  - rs_rating_distribution.png\\n\")\n\n  - rs_rating_distribution.png\n\ncat(\"  - sector_performance.png\\n\")\n\n  - sector_performance.png\n\ncat(\"  - rs_vs_ytd_scatter.png\\n\")\n\n  - rs_vs_ytd_scatter.png\n\ncat(\"  - top_sectors_rs.png\\n\")\n\n  - top_sectors_rs.png\n\ncat(\"  - market_cap_distribution.png\\n\")\n\n  - market_cap_distribution.png\n\ncat(\"  - correlation_heatmap.png\\n\")\n\n  - correlation_heatmap.png\n\ncat(\"  - performance_timeframes.png\\n\")\n\n  - performance_timeframes.png\n\ncat(\"  - top20_ytd_performers.png\\n\")\n\n  - top20_ytd_performers.png\n\ncat(\"\\n\", rep(\"=\", 70), \"\\n\", sep=\"\")\n\n\n======================================================================\n\ncat(\"Analysis completed successfully!\\n\")\n\nAnalysis completed successfully!\n\ncat(rep(\"=\", 70), \"\\n\")\n\n= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = ="
  }
]